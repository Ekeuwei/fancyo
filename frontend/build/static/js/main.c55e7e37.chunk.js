(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{159:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var c=a(4),s=a(2),r=a(24),n=a.n(r),i=a(17),l=a(25),o=a(10),d=a(16),j=a(9),u=a(14),b=a(15),m=a.n(b),O="LOGIN_REQUEST",p="LOGIN_SUCCESS",h="LOGIN_FAIL",x="REGISTER_USER_REQUEST",f="REGISTER_USER_SUCCESS",v="REGISTER_USER_FAIL",g="LOAD_USER_REQUEST",y="LOAD_USER_SUCCESS",N="LOAD_USER_FAIL",S="LOGOUT_SUCCESS",w="LOGOUT_FAIL",E="UPDATE_PROFILE_REQUEST",k="UPDATE_PROFILE_SUCCESS",_="UPDATE_PROFILE_RESET",C="UPDATE_PROFILE_FAIL",R="UPDATE_PASSWORD_REQUEST",A="UPDATE_PASSWORD_SUCCESS",T="UPDATE_PASSWORD_RESET",D="UPDATE_PASSWORD_FAIL",I="FORGOT_PASSWORD_REQUEST",U="FORGOT_PASSWORD_SUCCESS",L="FORGOT_PASSWORD_FAIL",P="WALLET_BALANCE_REQUEST",F="WALLET_BALANCE_SUCCESS",W="WALLET_BALANCE_FAIL",M="WALLET_TRANSACTIONS_REQUEST",K="WALLET_TRANSACTIONS_SUCCESS",q="WALLET_TRANSACTIONS_FAIL",Q="CHANGE_USER_MODE_REQUEST",G="CHANGE_USER_MODE_SUCCESS",H="CHANGE_USER_MODE_FAIL",J="WALLET_TOPUP_REQUEST",B="WALLET_TOPUP_SUCCESS",Y="WALLET_TOPUP_VERIFY",V="WALLET_TOPUP_LINK",$="WALLET_TOPUP_LINK_RESET",z="WALLET_TOPUP_FAIL",X="WALLET_TOPUP_RESET",Z="UPDATE_USER_REQUEST",ee="UPDATE_USER_SUCCESS",te="UPDATE_USER_RESET",ae="UPDATE_USER_FAIL",ce="DELETE_USER_REQUEST",se="DELETE_USER_SUCCESS",re="DELETE_USER_RESET",ne="DELETE_USER_FAIL",ie="ALL_USERS_REQUEST",le="ALL_USERS_SUCCESS",oe="ALL_USERS_FAIL",de="USER_DETAILS_REQUEST",je="USER_DETAILS_SUCCESS",ue="USER_DETAILS_FAIL",be="NEW_PASSWORD_REQUEST",me="NEW_PASSWORD_SUCCESS",Oe="FORGOT_PASSWORD_FAIL",pe="CLEAR_ERRORS",he=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:E}),c={headers:{"content-Type":"multipart/form-data"}},t.next=5,m.a.put("/api/v1/me/update",e,c);case 5:s=t.sent,r=s.data,a({type:k,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:C,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},xe=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:R}),c={headers:{"content-Type":"application/json"}},t.next=5,m.a.put("/api/v1/password/update",e,c);case 5:s=t.sent,r=s.data,a({type:A,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:D,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},fe=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,m.a.get("/api/v1/me");case 4:a=e.sent,c=a.data,localStorage.setItem("user",JSON.stringify(c.user)),t({type:y,payload:c.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:N,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ve=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:P}),e.next=4,m.a.get("/api/v1/wallet");case 4:a=e.sent,c=a.data,t({type:F,payload:c.balance}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:W,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"",to:""};return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:M}),t.next=4,m.a.get("/api/v1/wallet/transactions?from=".concat(e.from,"&to").concat(e.to));case 4:c=t.sent,s=c.data,a({type:K,payload:s.transactions}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:q,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(e,t){return function(){var a=Object(u.a)(Object(j.a)().mark((function a(c){var s,r,n;return Object(j.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:Z}),s={headers:{"content-Type":"application/json"}},a.next=5,m.a.put("/api/v1/admin/user/".concat(e),t,s);case 5:r=a.sent,n=r.data,c({type:ee,payload:n.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),c({type:ae,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:pe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=(a(159),a(0)),we=function(e){var t=e.avatar,a=e.firstName,c=e.logoutHandler,s=e.switchMode,r=e.userMode,n=e.role;return Object(Se.jsxs)("div",{className:"d-block",children:[Object(Se.jsxs)(i.b,{className:"navbar-brand fs-6 text-white",to:"/tasks",children:["Task",Object(Se.jsx)("i",{className:"fa fa-circle text-success",style:{fontSize:"10px"},"aria-hidden":"true"})]}),Object(Se.jsxs)(i.b,{to:"#",className:"dropdown-toggle text-white text-decoration-none",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(Se.jsx)("img",{className:"rounded-circle me-2",src:t.url,style:{height:"2em"},alt:""}),Object(Se.jsx)("span",{children:a})]}),Object(Se.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end bg-primary-1 m-0 border-0 end-0","aria-labelledby":"dropdownMenu",children:[Object(Se.jsx)("li",{children:Object(Se.jsx)(i.b,{className:"dropdown-item text-white",to:"/dashboard",children:"Dashboard"})}),Object(Se.jsx)("li",{children:Object(Se.jsx)(i.b,{className:"dropdown-item text-white",to:"/account/profile",children:"Account"})}),!r&&Object(Se.jsx)(Se.Fragment,{children:Object(Se.jsx)("li",{children:Object(Se.jsx)(i.b,{className:"dropdown-item text-white",to:"/works",children:"My Orders"})})}),"worker"===n&&Object(Se.jsx)("li",{className:"dropdown-item text-white",onClick:s,children:"".concat(r?"Worker":"User"," Mode")}),Object(Se.jsx)("li",{children:Object(Se.jsx)(i.b,{className:"dropdown-item text-white",to:"/",onClick:c,children:"Logout"})})]})]})},Ee=function(){var e=Object(d.d)(),t=Object(o.useDispatch)(),a=JSON.parse(localStorage.getItem("user")),r=JSON.parse(localStorage.getItem("userMode"));return Object(Se.jsx)(s.Fragment,{children:Object(Se.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-primary-1 sticky-top",children:Object(Se.jsxs)("div",{className:"container-fluid",children:[Object(Se.jsx)("button",{className:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(Se.jsx)("i",{className:"text-white fa fa-bars","aria-hidden":"true"})}),Object(Se.jsx)(i.b,{to:"/",className:"text-white navbar-brand flex-md-grow-0 flex-grow-1 ps-2",children:"Ebiwani"}),Object(Se.jsx)("div",{className:"order-1 ms-auto",children:null!==a&&void 0!==a&&a.role?Object(Se.jsx)(we,Object(c.a)(Object(c.a)({},a),{},{logoutHandler:function(){t(function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/v1/logout");case 3:localStorage.removeItem("userMode"),localStorage.removeItem("user"),t({type:S}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:w,payload:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully.")},switchMode:function(){return t(function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Q}),e.next=4,m.a.get("/api/v1/me/changemode");case 4:a=e.sent,c=a.data,window.location.reload(),t({type:G,payload:c.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:H,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())},userMode:r})):Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(i.b,{className:"navbar-brand fs-6 text-white",to:"/login",children:"Login"}),Object(Se.jsx)(i.b,{className:"navbar-brand fs-6 text-white",to:"/register",children:"Register"})]})}),Object(Se.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(Se.jsxs)("ul",{className:"navbar-nav",children:[Object(Se.jsx)("li",{className:"nav-item",children:Object(Se.jsx)(i.b,{to:"#",className:"nav-link active","aria-current":"page",children:"Home"})}),Object(Se.jsx)("li",{className:"nav-item",children:Object(Se.jsx)(i.b,{to:"#",className:"nav-link",children:"Features"})}),Object(Se.jsx)("li",{className:"nav-item",children:Object(Se.jsx)(i.b,{to:"#",className:"nav-link",children:"Pricing"})}),Object(Se.jsx)("li",{className:"nav-item",children:Object(Se.jsx)(i.b,{to:"#",className:"nav-link disabled",tabIndex:"-1","aria-disabled":"true",children:"Disabled"})})]})})]})})})},ke=function(){return Object(Se.jsx)(s.Fragment,{children:Object(Se.jsx)("footer",{className:"py-1 mt-auto",children:Object(Se.jsxs)("div",{className:"container-fluid text-center mx-auto",children:[Object(Se.jsx)("hr",{}),Object(Se.jsx)("h3",{children:"Ebiwani"}),Object(Se.jsx)("p",{children:"\xa9 ebiwani Limited 2022"}),Object(Se.jsxs)("span",{children:[Object(Se.jsx)("i",{className:"p-2 fa fa-facebook","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"p-2 fa fa-linkedin","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"p-2 fa fa-twitter","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"p-2 fa fa-instagram","aria-hidden":"true"})]})]})})})},_e=a(13),Ce=a(118),Re=a.n(Ce),Ae=(a(167),a(119)),Te=function(e){var t=e.title;return Object(Se.jsx)(Ae.a,{children:Object(Se.jsxs)("title",{children:[" "," ".concat(t," - Ebiwani")," "]})})},De=function(e){var t=e.history,a=Object(s.useState)(""),c=Object(_e.a)(a,2),r=c[0],n=c[1];return Object(Se.jsx)("form",{onSubmit:function(e){e.preventDefault(),r.trim()?t.push("/search/".concat(r)):t.push("/")},children:Object(Se.jsxs)("div",{className:"input-group bg-dark-4 rounded-pill mb-2",children:[Object(Se.jsx)("span",{className:"input-group-text ms-2 border-0 bg-transparent",children:Object(Se.jsx)("span",{className:"text-white my-auto fa fa-search"})}),Object(Se.jsx)("input",{type:"text",className:"form-control ps-1 border-0 bg-transparent shadow-none text-white",placeholder:"Try \u201cCleaner\u201d","aria-label":"Username",value:r,"aria-describedby":"basic-addon1",onChange:function(e){return n(e.target.value)}}),Object(Se.jsx)("button",{type:"submit",className:"btn px-3 bg-primary-2 rounded-pill text-white",children:"Search"})]})})},Ie=function(e){var t,a,c,s=e.worker,r=e.viewArtisan;return Object(Se.jsx)("div",{className:"col-6 col-sm-4 col-md-3 col-lg-5 mb-3 text-center",style:{maxWidth:"16rem",minWidth:"11rem"},children:Object(Se.jsxs)("div",{onClick:r,uid:s._id,className:"card mx-auto border-0 bg-secondary-2",children:[Object(Se.jsx)("h5",{className:"card-title py-2 bg-primary-1 text-uppercase text-white single-line",children:s.category.name}),Object(Se.jsx)("div",{className:"w-50  mx-auto",children:Object(Se.jsx)("div",{className:"avatar",children:Object(Se.jsx)("img",{src:s.owner.avatar.url,alt:"".concat(s.owner.firstName)})})}),Object(Se.jsxs)("span",{children:[Object(Se.jsxs)("p",{className:"m-0",children:[Object(Se.jsx)("strong",{className:"me-2",children:"".concat(s.owner.firstName," ").concat(s.owner.lastName)}),Object(Se.jsx)("i",{className:"fa fa-check-circle text-success","aria-hidden":"true"})]}),Object(Se.jsxs)("span",{className:"text-primary-1 m-0",children:[Object(Se.jsx)("i",{className:"fa fa-star","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star","aria-hidden":"true"})]}),Object(Se.jsx)("p",{children:"\u20a6".concat((c=s.pricing.minRate,Number(c).toLocaleString("en-US"))," / Job")})]}),Object(Se.jsxs)("div",{className:"text-start ps-2",children:[Object(Se.jsxs)("p",{className:"mb-1",children:["Status: ".concat(s.availability),Object(Se.jsx)("span",{className:"position-relative ms-1",children:Object(Se.jsx)("i",{className:"position-absolute top-50 start-50 translate-middle text-secondary-3 fa fa-circle ms-1",style:{fontSize:"10px"},"aria-hidden":"true"})})]}),Object(Se.jsx)("p",{className:"mb-1",children:"Location: ".concat(null===(t=s.owner.contact)||void 0===t||null===(a=t.town)||void 0===a?void 0:a.name)}),Object(Se.jsx)("p",{children:"Experience: 20yrs+"})]})]})})},Ue=a(21),Le="MY_TASKS_REQUEST",Pe="MY_TASKS_SUCCESS",Fe="MY_WORKS_SUCCESS",We="MY_TASKS_FAIL",Me="NEW_TASK_REQUEST",Ke="NEW_TASK_SUCCESS",qe="NEW_TASK_RESET",Qe="NEW_TASK_FAIL",Ge="DELETE_TASK_REQUEST",He="DELETE_TASK_SUCCESS",Je="DELETE_TASK_FAIL",Be="UPDATE_TASK_REQUEST",Ye="UPDATE_TASK_SUCCESS",Ve="UPDATE_TASK_FAIL",$e="UPDATE_TASK_PROGRESS_REQUEST",ze="UPDATE_TASK_PROGRESS_SUCCESS",Xe="UPDATE_TASK_PROGRESS_RESET",Ze="UPDATE_TASK_PROGRESS_FAIL",et="CREATE_TASK_REQUEST",tt="CREATE_TASK_SUCCESS",at="CREATE_TASK_RESET",ct="CREATE_TASK_FAIL",st="NEARBY_TASK_REQUEST",rt="NEARBY_TASK_SUCCESS",nt="NEARBY_TASK_FAIL",it="ADMIN_TASKS_REQUEST",lt="ADMIN_TASKS_SUCCESS",ot="ADMIN_TASKS_FAIL",dt="CLEAR_ERRORS",jt=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="pending"===e?"".concat(e,"_request"):e,t.prev=1,a({type:Le}),t.next=5,m.a.get("/api/v1/tasks?keyword=".concat(e));case 5:c=t.sent,s=c.data,a({type:Pe,payload:s.tasks}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:We,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ut=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Le}),t.next=4,m.a.get("/api/v1/works?keyword=".concat(e));case 4:c=t.sent,s=c.data,a({type:Fe,payload:s.works}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:We,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},bt=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,a({type:st}),t.next=5,m.a.post("/api/v1/tasks/nearby",e,c);case 5:s=t.sent,r=s.data,a({type:rt,payload:r.nearbyTasks}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:nt,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},mt=function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c,s;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,m.a.put("/api/v1/task/request/apply",t,a);case 4:return c=e.sent,s=c.data,e.abrupt("return",{success:s.success,error:null});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.response.data.message,success:null});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ot=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:$e}),c={headers:{"Content-Type":"application/json"}},t.next=5,m.a.put("/api/v1/task/".concat(e.taskId),e,c);case 5:s=t.sent,r=s.data,a({type:ze,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:Ze,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},pt=function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c,s;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},e.next=4,m.a.put("/api/v1/task/".concat(t.taskId),t,a);case 4:return c=e.sent,s=c.data,e.abrupt("return",{success:s.success});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ht=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:dt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xt=a(132),ft=function(e){var t=e.value,a=e.onChange,c=e.suggestions,r=e.placeholder,n=e.name,i=e.validateField,l=e.handleKeyDown,o=e.itemSelected,d=new xt.a(c,{keys:["name"],threshold:.4}),j=c;t&&t.name&&(j=d.search(t.name).map((function(e){return e.item})));var u=Object(s.useState)(!1),b=Object(_e.a)(u,2),m=b[0],O=b[1];return Object(Se.jsxs)("div",{style:{flex:1},onFocus:function(){return O(!0)},onBlur:function(){var e=c.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}));i&&a("object"===typeof e&&null!==e?e:{name:""},n),O(!1)},children:[Object(Se.jsx)("input",{type:"text",value:t.name,onChange:function(e){return a({name:e.target.value},n)},placeholder:r,onKeyDown:l}),Object(Se.jsx)("div",{className:"suggestions",children:m&&j&&Object(Se.jsx)("ul",{children:j.map((function(e,t){return Object(Se.jsx)("li",{onMouseDown:function(){return o(e,n)},children:e.name},t)}))})})]})},vt="PREFS_STATES_REQUEST",gt="PREFS_STATES_SUCCESS",yt="PREFS_STATES_FAIL",Nt="PREFS_LGAS_REQUEST",St="PREFS_LGAS_SUCCESS",wt="PREFS_LGAS_FAIL",Et="PREFS_TOWNS_REQUEST",kt="PREFS_TOWNS_SUCCESS",_t="PREFS_TOWNS_FAIL",Ct="WORKERS_CATEGORIES_REQUEST",Rt="WORKERS_CATEGORIES_SUCCESS",At="WORKERS_CATEGORIES_FAIL",Tt=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:vt}),e.next=4,m.a.get("/api/v1/prefs/states");case 4:a=e.sent,c=a.data,t({type:gt,payload:c.states}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:yt,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Dt=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Nt}),t.next=4,m.a.get("/api/v1/prefs/lgas/".concat(e));case 4:c=t.sent,s=c.data,a({type:St,payload:s.lgas}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:wt,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},It=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Et}),t.next=4,m.a.get("/api/v1/prefs/towns/".concat(e));case 4:c=t.sent,s=c.data,a({type:kt,payload:s.towns}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:_t,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ut=a(2),Lt=Ut.useState,Pt=Ut.useEffect,Ft=a(61),Wt=Ft.Modal,Mt=a(10),Kt=Mt.useDispatch,qt=Mt.useSelector,Qt=function(e){var t=e.show,a=e.handleClose,s=Kt(),r=Object(d.d)(),n=qt((function(e){return e.taskRequest})),i=n.error,l=n.success,o=n.loading,b=qt((function(e){return e.prefs})),O=b.states,p=b.lgas,h=b.towns,x=Lt({description:"",budget:"",numberOfWorkers:1}),f=Object(_e.a)(x,2),v=f[0],g=f[1],y=Lt({state:"",lga:"",town:""}),N=Object(_e.a)(y,2),S=N[0],w=N[1],E=function(e){return g((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(Ue.a)({},e.target.name,e.target.value))}))},k=function(e,t){return w((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(Ue.a)({},t,e))}))};return Pt((function(){i&&(r.error(i),s(ht())),l&&(g({description:"",location:"",budget:"",numberOfWorkers:1}),a(),r.success("Request has been sent"),s({type:at}))}),[i,l,s,r,g,a]),Pt((function(){return s(Tt())}),[]),Pt((function(){S.state._id&&s(Dt(S.state._id))}),[s,S.state._id]),Pt((function(){S.lga._id&&s(It(S.lga._id))}),[s,S.lga._id]),Object(Se.jsxs)(Wt,{show:t,onHide:a,backdrop:"static",keyboard:!1,children:[Object(Se.jsxs)(Wt.Header,{children:[Object(Se.jsx)(Wt.Title,{children:"Create Work Request"}),Object(Se.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:a})]}),Object(Se.jsxs)(Wt.Body,{children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"workOder",className:"form-label",children:"Enter the service you want to perform:"}),Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("textarea",{id:"workOder",name:"description",placeholder:"e.g. clean the house, fix the car, etc.",value:v.description,onChange:E,rows:"2"})})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"location",className:"form-label",children:"Enter location:"}),Object(Se.jsx)("div",{className:"input mb-3 ".concat(S.state.name?"":"shake"),children:Object(Se.jsx)(ft,{validateField:!0,value:S.state,name:"state",itemSelected:k,onChange:k,suggestions:O,placeholder:"State"})}),Object(Se.jsx)("div",{className:"input mb-3 ".concat(S.lga.name?"":"shake"),children:Object(Se.jsx)(ft,{validateField:!0,value:S.lga,name:"lga",itemSelected:k,onChange:k,suggestions:p,placeholder:"Lga"})}),Object(Se.jsx)("div",{className:"input mb-3",children:Object(Se.jsx)(ft,{value:S.town,name:"town",itemSelected:k,onChange:k,suggestions:h,placeholder:"Town"})})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"numberOfWorkers",className:"form-label",children:"Number of workers needed:"}),Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("input",{type:"number",id:"numberOfWorkers",name:"numberOfWorkers",value:v.numberOfWorkers,onChange:E})})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"budget",className:"form-label",children:"Enter budget per worker (optional):"}),Object(Se.jsxs)("div",{className:"input",children:[Object(Se.jsx)("span",{className:"text-secondary",children:"\u20a6"}),Object(Se.jsx)("input",{type:"text",className:"amount",id:"budget",name:"budget",value:v.budget,onChange:E})]})]})]}),Object(Se.jsxs)(Wt.Footer,{children:[Object(Se.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"}),Object(Se.jsx)("button",{type:"button",className:"btn bg-primary-1 ".concat(o&&"loading"),disabled:o,onClick:function(){v.location={state:S.state._id,lga:S.lga._id,town:S.town.name},s(function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,a({type:et}),t.next=5,m.a.post("/api/v1/task/request",e,c);case 5:s=t.sent,r=s.data,a({type:tt,payload:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:ct,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(v))},children:"Create Request"})]})]})},Gt=function(){return Object(Se.jsx)("div",{className:"loading",style:{minHeight:"6.125rem"}})},Ht=function(e){e.keyword;var t=e.workers,a=e.count,c=e.loading,r=Object(l.useHistory)(),n=function(e){var t=e.currentTarget.getAttribute("uid");r.push("/worker/".concat(t))},i=Object(s.useState)(!1),o=Object(_e.a)(i,2),d=o[0],j=o[1];return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsxs)("div",{className:"container",children:[Object(Se.jsxs)("div",{className:"m-3",children:[Object(Se.jsx)(l.Route,{render:function(e){var t=e.history;return Object(Se.jsx)(De,{history:t})}}),Object(Se.jsxs)("div",{className:"d-flex",children:[Object(Se.jsxs)("p",{className:"text-dark-2 ms-3",children:[Object(Se.jsx)("i",{className:"fa fa-map-marker me-1 text-danger","aria-hidden":"true"}),"Edepie, Yenagoa"]}),Object(Se.jsxs)("button",{className:"btn btn-secondary ms-auto",onClick:function(){return j(!0)},children:[Object(Se.jsx)("i",{className:"fa fa-plus me-1","aria-hidden":"true"}),"create work request"]})]})]}),c?Object(Se.jsx)(Gt,{}):Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)("h5",{className:"py-3",children:"".concat(0===a?"No":a," worker").concat(a>1?"s":""," found near you")}),Object(Se.jsx)("div",{className:"row gx-3",children:t&&t.map((function(e){return Object(Se.jsx)(Ie,{worker:e,viewArtisan:n},e._id)}))})]})]}),Object(Se.jsx)(Qt,{show:d,handleClose:function(){return j(!1)}})]})},Jt=a(122),Bt="ALL_WORKERS_REQUEST",Yt="ALL_WORKERS_SUCCESS",Vt="ALL_WORKERS_FAIL",$t="WORKERS_SETUP_REQUEST",zt="WORKERS_SETUP_SUCCESS",Xt="WORKERS_SETUP_FAIL",Zt="LOAD_USER_WORKERS_REQUEST",ea="LOAD_USER_WORKERS_SUCCESS",ta="LOAD_USER_WORKERS_FAIL",aa="WORKER_DETAILS_REQUEST",ca="WORKER_DETAILS_SUCCESS",sa="WORKER_DETAILS_FAIL",ra="WORKER_REVIEW_REQUEST",na="WORKER_REVIEW_SUCCESS",ia="WORKER_REVIEW_FAIL",la="CREATE_WORKER_REQUEST",oa="CREATE_WORKER_SUCCESS",da="CREATE_WORKER_FAIL",ja="CREATE_WORKER_RESET",ua="CLEAR_ERRORS",ba=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:la}),t.next=4,m.a.post("/api/v1/create/worker",e,Jt.config);case 4:c=t.sent,s=c.data,a({type:oa,payload:s.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:da,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(){var s=Object(u.a)(Object(j.a)().mark((function s(r){var n,i,l;return Object(j.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,r({type:Bt}),n="/api/v1/workers?keyword=".concat(e,"&page=").concat(t,"\n                    &ratings[gte]=").concat(c),a&&(n="/api/v1/workers?keyword=".concat(e,"&page=").concat(t,"\n                    &category=").concat(a,"&ratings[gte]=").concat(c)),s.next=6,m.a.get(n);case 6:i=s.sent,l=i.data,r({type:Yt,payload:l}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),r({type:Vt,payload:s.t0.response.data.message});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()},Oa=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,a({type:ra}),t.next=5,m.a.put("/api/v1/create/worker/review",e,c);case 5:s=t.sent,r=s.data,a({type:na,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:ia,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},pa=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ua});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ha=function(e){var t=e.match,a=Object(s.useState)(1),c=Object(_e.a)(a,2),r=c[0],n=c[1],i=Object(l.useHistory)(),j=Object(d.d)(),u=Object(o.useDispatch)(),b=Object(o.useSelector)((function(e){return e.workers})),m=b.loading,O=b.workers,p=b.error,h=b.workersCount,x=b.resPerPage,f=b.filteredWorkersCount,v=t.params.keyword;Object(s.useEffect)((function(){if(p)return j.error(p);u(ma(v,r))}),[u,j,p,v,r]);var g=h;return v&&(g=f),Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Getting Things Done with Good Help"}),v?Object(Se.jsx)(Ht,{loading:m,keyword:v,workers:O,count:g}):Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)("section",{children:Object(Se.jsxs)("div",{className:"p-5 bg-img h-l-50",children:[Object(Se.jsx)("h3",{className:"mb-4 text-white",children:"Find the right worker for any task, easily and quickly"}),Object(Se.jsx)("p",{className:"mb-4 text-white",children:"Free up your time and energy by letting professionals handle your personal tasks."}),Object(Se.jsx)("div",{className:"mx-md-5",children:Object(Se.jsx)(l.Route,{render:function(e){var t=e.history;return Object(Se.jsx)(De,{history:t})}})})]})}),Object(Se.jsx)("section",{children:Object(Se.jsxs)("div",{className:"bg-white p-3",children:[Object(Se.jsx)("h3",{className:"color-dark-2 mb-3",children:"Popular Services"}),Object(Se.jsx)("div",{className:"container-fluid ps-0 overflow-auto row gx-3 pb-2 flex-nowrap",children:[{name:"General Labour",url:"labour",image:"./images/labour.png"},{name:"Plumbing",url:"plumbing",image:"./images/plumbing.png"},{name:"Electrician",url:"electrician",image:"./images/electrician.png"},{name:"Make-up",url:"makeup",image:"./images/makeup.png"},{name:"House Keeper",url:"housekeeper",image:"./images/errand.png"}].map((function(e){return Object(Se.jsxs)("div",{className:"col-10 col-sm-9 col-md-6 col-lg-4 col-xl-3 position-relative",onClick:function(){return i.push("category/".concat(e.url))},children:[Object(Se.jsx)("h5",{className:"text-light position-absolute top-0 end-0 m-3",children:e.name}),Object(Se.jsx)("img",{className:"w-100 h-100 fit-cover rounded-3",src:e.image,alt:e.name})]},e.name)}))})]})}),Object(Se.jsx)("section",{children:Object(Se.jsxs)("div",{className:"row bg-secondary-4 p-3 text-dark-2",children:[Object(Se.jsx)("h3",{className:"text-md-center mb-3",children:"You\u2019re just one call away from getting that job done."}),Object(Se.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(Se.jsxs)("div",{children:[Object(Se.jsxs)("h5",{className:"mb-1",children:[Object(Se.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Find a taskman or post a job"]}),Object(Se.jsx)("p",{children:"Find someone with the skill set for the job, e.g \u201ccarpenter\u201d or make a job post for workers to bid."})]}),Object(Se.jsxs)("div",{children:[Object(Se.jsxs)("h5",{className:"mb-1",children:[Object(Se.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Assign the Job"]}),Object(Se.jsx)("p",{children:"Engage a taskman to perform the job within the specified time."})]}),Object(Se.jsxs)("div",{children:[Object(Se.jsxs)("h5",{className:"mb-1",children:[Object(Se.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Job Gets Done"]}),Object(Se.jsx)("p",{children:"The taskman performs the job as specified."})]}),Object(Se.jsxs)("div",{children:[Object(Se.jsxs)("h5",{className:"mb-1",children:[Object(Se.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Job Gets Inspected"]}),Object(Se.jsx)("p",{children:"Inpsect your job and ensure performance meets your expectations."})]}),Object(Se.jsxs)("div",{children:[Object(Se.jsxs)("h5",{className:"mb-1",children:[Object(Se.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),"Payment Disbursment"]}),Object(Se.jsx)("p",{children:"Cash payment is made and remitted to the task worker."})]})]}),Object(Se.jsx)("div",{className:"col-12 col-lg-6 col-md-9 my-auto",children:Object(Se.jsx)("img",{className:"img-fluid px-3",src:"./images/vid.png",alt:""})})]})}),Object(Se.jsx)("section",{children:Object(Se.jsxs)("div",{className:"containter p-3 text-center",children:[Object(Se.jsx)("h4",{className:"mb-3 text-dark-2",children:"Explore the Marketplace"}),Object(Se.jsxs)("div",{className:"row gx-3",children:[Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/carpentry.png",alt:""}),Object(Se.jsx)("p",{children:"Carpentry"})]}),Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/makeup.png",alt:""}),Object(Se.jsx)("p",{children:"Make-up"})]}),Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/electrical.png",alt:""}),Object(Se.jsx)("p",{children:"Electrical"})]}),Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/welding.png",alt:""}),Object(Se.jsx)("p",{children:"Wedlding"})]}),Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/catering.png",alt:""}),Object(Se.jsx)("p",{children:"Catering"})]}),Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/errand.png",alt:""}),Object(Se.jsx)("p",{children:"Errand/Dispatch"})]}),Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/labour.png",alt:""}),Object(Se.jsx)("p",{children:"General Labour"})]}),Object(Se.jsxs)("div",{className:"col-4 col-md-3",children:[Object(Se.jsx)("img",{className:"img-fluid",src:"./images/more.png",alt:""}),Object(Se.jsx)("p",{children:"More"})]})]})]})})]}),(x<=g||1!==r)&&Object(Se.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(Se.jsx)(Re.a,{activePage:r,itemsCountPerPage:x,totalItemsCount:h,onChange:function(e){n(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-items",linkClass:"page-link"})})]})},xa=a(116),fa="ALL_PRODUCTS_REQUEST",va="ALL_PRODUCTS_SUCCESS",ga="ALL_PRODUCTS_FAIL",ya="PRODUCTS_DETAILS_REQUEST",Na="PRODUCTS_DETAILS_SUCCESS",Sa="PRODUCTS_DETAILS_FAIL",wa="NEW_PRODUCT_REQUEST",Ea="NEW_PRODUCT_SUCCESS",ka="NEW_PRODUCT_FAIL",_a="DELETE_PRODUCT_REQUEST",Ca="DELETE_PRODUCT_SUCCESS",Ra="DELETE_PRODUCT_FAIL",Aa="UPDATE_PRODUCT_REQUEST",Ta="UPDATE_PRODUCT_SUCCESS",Da="UPDATE_PRODUCT_FAIL",Ia="NEW_REVIEW_REQUEST",Ua="NEW_REVIEW_SUCCESS",La="NEW_REVIEW_RESET",Pa="NEW_REVIEW_FAIL",Fa="DELETE_REVIEW_REQUEST",Wa="DELETE_REVIEW_SUCCESS",Ma="DELETE_REVIEW_RESET",Ka="DELETE_REVIEW_FAIL",qa="ADMIN_PRODUCTS_REQUEST",Qa="ADMIN_PRODUCTS_SUCCESS",Ga="ADMIN_PRODUCTS_FAIL",Ha="GET_REVIEWS_REQUEST",Ja="GET_REVIEWS_SUCCESS",Ba="GET_REVIEWS_FAIL",Ya="CLEAR_ERRORS",Va=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ha}),t.next=4,m.a.get("/api/v1/reviews?id=".concat(e));case 4:c=t.sent,s=c.data,a({type:Ja,payload:s.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Ba,payload:t.t0.response.data.errMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},$a=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ya});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},za="ADD_TO_CART",Xa="REMOVE_ITEM_FROM_CART",Za="SAVE_SHIPPING_INFO",ec=function(e,t){return function(){var a=Object(u.a)(Object(j.a)().mark((function a(c,s){var r,n;return Object(j.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.get("/api/v1/product/".concat(e));case 2:r=a.sent,n=r.data,c({type:za,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},tc=function(e){var t=e.reviews;return Object(Se.jsx)("div",{children:Object(Se.jsxs)("div",{className:"reviews w-75",children:[Object(Se.jsx)("h3",{children:"Other's Reviews:"}),Object(Se.jsx)("hr",{}),t&&t.map((function(e){return Object(Se.jsxs)("div",{className:"review-card my-3",children:[Object(Se.jsx)("div",{className:"rating-outer",children:Object(Se.jsx)("div",{className:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(Se.jsxs)("p",{className:"review_user",children:["by ",e.name]}),Object(Se.jsx)("p",{className:"review_comment",children:e.comment}),Object(Se.jsx)("hr",{})]},e.id)}))]})})},ac=function(e){var t=e.match,a=e.history,c=Object(s.useState)(1),r=Object(_e.a)(c,2),n=r[0],i=r[1],l=Object(s.useState)(0),b=Object(_e.a)(l,2),O=b[0],p=b[1],h=Object(s.useState)(""),x=Object(_e.a)(h,2),f=x[0],v=x[1],g=Object(o.useDispatch)(),y=Object(d.d)(),N=Object(o.useSelector)((function(e){return e.productDetails})),S=N.loading,w=N.product,E=N.error,k=Object(o.useSelector)((function(e){return e.auth})).user,_=Object(o.useSelector)((function(e){return e.newReview})),C=_.error,R=_.success;Object(s.useEffect)((function(){var e;E&&(y.error(E),a.push("/"),g($a())),C&&(y.error(C),g($a())),R&&(y.success("Review posted successfully"),g({type:La})),g((e=t.params.id,function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ya}),t.next=4,m.a.get("/api/v1/product/".concat(e));case 4:c=t.sent,s=c.data,a({type:Na,payload:s.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Sa,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[g,y,E,C,R,t.params.id,a]);return Object(Se.jsx)(s.Fragment,{children:S?Object(Se.jsx)(Gt,{}):Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:w.name}),Object(Se.jsx)("div",{className:"container container-fluid",children:Object(Se.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(Se.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(Se.jsx)(xa.a,{pause:"hover",children:w.images&&w.images.map((function(e){return Object(Se.jsx)(xa.a.Item,{children:Object(Se.jsx)("img",{className:"d-block w-100",src:e.url,alt:w.title})},e.public_id)}))})}),Object(Se.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(Se.jsxs)("h3",{children:[" ",w.name," "]}),Object(Se.jsxs)("p",{id:"product_id",children:["Product #",w._id]}),Object(Se.jsx)("hr",{}),Object(Se.jsx)("div",{className:"rating-outer",children:Object(Se.jsx)("div",{className:"rating-inner",style:{width:"".concat(w.ratings/5*100,"%")}})}),Object(Se.jsx)("span",{id:"no_of_reviews",children:"(".concat(w.numOfReviews," Reviews)")}),Object(Se.jsx)("hr",{}),Object(Se.jsxs)("p",{id:"product_price",children:["$",w.price&&w.price.toLocaleString()]}),Object(Se.jsxs)("div",{className:"stockCounter d-inline",children:[Object(Se.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;i(t)}},children:"-"}),Object(Se.jsx)("input",{type:"number",className:"form-control count d-inline",value:n,readOnly:!0}),Object(Se.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=w.stock)){var t=e.valueAsNumber+1;i(t)}},children:"+"})]}),Object(Se.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",onClick:function(){g(ec(t.params.id,n)),y.success("Item Added to Cart")},disabled:0===w.stock,children:"Add to Cart"}),Object(Se.jsx)("hr",{}),Object(Se.jsxs)("p",{children:["Status: ",Object(Se.jsx)("span",{id:"stock_status",className:w.stock>0?"greenColor":"redColor",children:w.stock>0?"In Stock":"Out of Stock"})]}),Object(Se.jsx)("hr",{}),Object(Se.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(Se.jsx)("p",{children:w.description}),Object(Se.jsx)("hr",{}),Object(Se.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(Se.jsx)("strong",{children:w.seller})]}),k?Object(Se.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var a=this;e.forEach((function(e,c){"click"===t.type&&(c<a.starValue?(e.classList.add("orange"),p(a.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(c<a.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,a){e.starValue=a+1,["click","mouseover","mouseout"].forEach((function(a){e.addEventListener(a,t)}))}))},children:"Submit Your Review"}):Object(Se.jsx)("div",{className:"alert alert-danger mt-5",type:"alert",children:"Login to post your review."}),Object(Se.jsx)("div",{className:"row mt-2 mb-5",children:Object(Se.jsx)("div",{className:"rating w-50",children:Object(Se.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(Se.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Se.jsxs)("div",{className:"modal-content",children:[Object(Se.jsxs)("div",{className:"modal-header",children:[Object(Se.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(Se.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(Se.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Se.jsxs)("div",{className:"modal-body",children:[Object(Se.jsxs)("ul",{className:"stars",children:[Object(Se.jsx)("li",{className:"star",children:Object(Se.jsx)("i",{className:"fa fa-star"})}),Object(Se.jsx)("li",{className:"star",children:Object(Se.jsx)("i",{className:"fa fa-star"})}),Object(Se.jsx)("li",{className:"star",children:Object(Se.jsx)("i",{className:"fa fa-star"})}),Object(Se.jsx)("li",{className:"star",children:Object(Se.jsx)("i",{className:"fa fa-star"})}),Object(Se.jsx)("li",{className:"star",children:Object(Se.jsx)("i",{className:"fa fa-star"})})]}),Object(Se.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:f,onChange:function(e){return v(e.target.value)}}),Object(Se.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",onClick:function(){var e,a=new FormData;a.set("rating",O),a.set("comment",f),a.set("productId",t.params.id),g((e=a,function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ia}),c={headers:{"Content-Type":"application/json"}},t.next=5,m.a.put("/api/v1/review/",e,c);case 5:s=t.sent,r=s.data,a({type:Ua,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:Pa,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Submit"})]})]})})})})})]})]})}),w.reviews&&w.reviews.length>0&&Object(Se.jsx)(tc,{reviews:w.reviews})]})})},cc=function(e){var t=e.history,a=e.location,c=Object(s.useState)(""),r=Object(_e.a)(c,2),n=r[0],l=r[1],b=Object(s.useState)(""),x=Object(_e.a)(b,2),f=x[0],v=x[1],g=Object(d.d)(),y=Object(o.useDispatch)(),N=Object(o.useSelector)((function(e){return e.auth})),S=N.isAuthenticated,w=N.error,E=N.loading,k=a.search?a.search.split("=")[1]:"/";Object(s.useEffect)((function(){S&&t.push(k),w&&("Login first to access the resource"!==w&&g.error(w),y(Ne()))}),[y,g,S,w,t,k]);return Object(Se.jsx)(s.Fragment,{children:E?Object(Se.jsx)(Gt,{}):Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Login"}),Object(Se.jsx)("section",{className:"center-screen tile",children:Object(Se.jsx)("div",{className:"auth",children:Object(Se.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(function(e,t){return function(){var a=Object(u.a)(Object(j.a)().mark((function a(c){var s,r,n;return Object(j.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:O}),s={headers:{"content-Type":"application/json"}},a.next=5,m.a.post("/api/v1/login",{email:e,password:t},s);case 5:r=a.sent,n=r.data,localStorage.setItem("user",JSON.stringify(n.user)),c({type:p,payload:n.user}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),c({type:h,payload:a.t0.response.data.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(n,f))},children:[Object(Se.jsx)("h3",{className:"mb-3 text-start",children:"Login"}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"email",className:"form-label",children:"Email"}),Object(Se.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"name@example.com",value:n,onChange:function(e){return l(e.target.value)}})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"password",className:"form-label",children:"Password"}),Object(Se.jsx)("input",{type:"password",className:"form-control",id:"password",value:f,onChange:function(e){return v(e.target.value)}}),Object(Se.jsx)("div",{className:"text-end",children:Object(Se.jsx)("a",{href:"/password/forgot",className:"navbar-brand fs-6 text-dark-1 text-end",children:"Forgot Password"})})]}),Object(Se.jsxs)("div",{className:"mb-3 text-end",children:[Object(Se.jsx)(i.b,{to:"/register",className:"btn btn-link text-dark-1",children:"Register"}),Object(Se.jsx)("button",{type:"submit",className:"btn bg-primary-1 px-3",children:"Login"})]})]})})})]})})},sc=function(e){var t=e.history,a=Object(s.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",gender:"",password:""}),r=Object(_e.a)(a,2),n=r[0],l=r[1],b=Object(s.useRef)(),O=n.firstName,p=n.lastName,h=n.gender,g=n.email,y=n.phoneNumber,N=n.password,S=Object(s.useState)(""),w=Object(_e.a)(S,2),E=w[0],k=w[1],_=Object(s.useState)("/images/default_avatar.jpg"),C=Object(_e.a)(_,2),R=C[0],A=C[1],T=Object(d.d)(),D=Object(o.useDispatch)(),I=Object(o.useSelector)((function(e){return e.auth})),U=I.isAuthenticated,L=I.error,P=I.loading;Object(s.useEffect)((function(){U&&t.push("/"),L&&("Login first to access the resource"!==L&&T.error(L),D(Ne()))}),[D,T,U,L,t]);var F=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(A(t.result),k(t.result))},t.readAsDataURL(e.target.files[0])}else l(Object(c.a)(Object(c.a)({},n),{},Object(Ue.a)({},e.target.name,e.target.value)))};return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Register User"}),Object(Se.jsx)("section",{className:"center-screen tile",children:Object(Se.jsx)("div",{className:"auth",children:Object(Se.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("firstName",O),a.set("lastName",p),a.set("email",g),a.set("password",N),a.set("phoneNumber",y),a.set("gender",h),a.set("avatar",E),D((t=a,function(){var e=Object(u.a)(Object(j.a)().mark((function e(a){var c,s,r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:x}),c={headers:{"content-Type":"multipart/form-data"}},e.next=5,m.a.post("/api/v1/register",t,c);case 5:s=e.sent,r=s.data,a({type:f,payload:r.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:v,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(Se.jsx)("div",{className:"avatar-preview",children:Object(Se.jsxs)("div",{class:"avatar",children:[Object(Se.jsx)("img",{src:R,alt:"Avatar Preview"}),Object(Se.jsx)("i",{className:"fa fa-pencil-square-o edit-icon",onClick:function(){return b.current.click()},"aria-hidden":"true"})]})}),Object(Se.jsx)("h3",{class:"py-3 text-start",children:"Register"}),Object(Se.jsx)("div",{class:"progress mb-3 rounded-pill",children:Object(Se.jsx)("div",{class:"progress-bar bg-primary-2 rounded-pill",role:"progressbar",style:{width:"100%"},"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"})}),Object(Se.jsx)("div",{class:"mb-3 d-none",children:Object(Se.jsx)("input",{name:"avatar",type:"file",class:"form-control",id:"avatar",ref:b,onChange:F})}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsx)("label",{for:"firstName",class:"form-label",children:"First Name"}),Object(Se.jsx)("input",{type:"name",name:"firstName",class:"form-control",id:"firstName",placeholder:"First Name",value:O,onChange:F})]}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsx)("label",{for:"lastName",class:"form-label",children:"Last Name"}),Object(Se.jsx)("input",{name:"lastName",type:"name",class:"form-control",id:"lastName",placeholder:"Last Name",value:p,onChange:F})]}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsx)("label",{for:"state",class:"form-label",children:"Gender"}),Object(Se.jsxs)("select",{class:"form-select","aria-label":"Select State",name:"gender",value:h,onChange:F,children:[Object(Se.jsx)("option",{selected:!0,children:"Gender"}),Object(Se.jsx)("option",{value:"Male",children:"Male"}),Object(Se.jsx)("option",{value:"Female",children:"Female"})]})]}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsx)("label",{for:"number",class:"form-label",children:"Phone Number"}),Object(Se.jsx)("input",{name:"phoneNumber",type:"phone",class:"form-control",id:"number",value:y,onChange:F})]}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsx)("label",{for:"email",class:"form-label",children:"Email"}),Object(Se.jsx)("input",{name:"email",type:"email",class:"form-control",id:"email",placeholder:"name@example.com",value:g,onChange:F})]}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsx)("label",{for:"password",class:"form-label",children:"Password"}),Object(Se.jsx)("input",{name:"password",type:"password",class:"form-control",id:"password",value:N,onChange:F})]}),Object(Se.jsxs)("div",{class:"mb-3 text-end",children:[Object(Se.jsx)(i.b,{to:"/login",class:"btn btn-link text-dark-1",children:"Login"}),Object(Se.jsx)("button",{type:"submit",class:"".concat(P&&"disabled"," btn bg-primary-1 px-3"),children:"Submit"})]})]})})})]})},rc=a(67),nc=a(124),ic=a(123),lc=a(28),oc="CREATE_ORDER_REQUEST",dc="CREATE_ORDER_SUCCESS",jc="CREATE_ORDER_FAIL",uc="MY_ORDERS_REQUEST",bc="MY_ORDERS_SUCCESS",mc="MY_ORDERS_FAIL",Oc="ALL_ORDERS_REQUEST",pc="ALL_ORDERS_SUCCESS",hc="ALL_ORDERS_FAIL",xc="UPDATE_ORDER_REQUEST",fc="UPDATE_ORDER_SUCCESS",vc="UPDATE_ORDERS_FAIL",gc="DELETE_ORDER_REQUEST",yc="DELETE_ORDER_SUCCESS",Nc="DELETE_ORDERS_FAIL",Sc="ORDER_DETAILS_REQUEST",wc="ORDER_DETAILS_SUCCESS",Ec="ORDER_DETAILS_FAIL",kc="CLEAR_ERRORS",_c="CLEAR_ERRORS",Cc=Object(rc.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fa:case qa:return{loading:!0,products:[]};case Qa:return{loading:!1,products:t.payload};case va:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case ga:case Ga:return{loading:!1,error:t.payload};case Ya:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ya:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Na:return{loading:!1,product:t.payload};case Sa:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case Ya:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},worker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case la:case ra:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case oa:case na:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,success:t.payload});case da:case ia:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case ja:case"WORKER_REVIEW_RESET":return Object(c.a)(Object(c.a)({},e),{},{success:!1});case ua:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},workers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{workers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bt:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Yt:return{loading:!1,workers:t.payload.workers,workersCount:t.payload.workersCount,resPerPage:t.payload.resPerPage,filteredWorkersCount:t.payload.filteredWorkersCount};case Vt:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case ua:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},workerDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{worker:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aa:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case ca:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,worker:t.payload});case sa:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case ua:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{setup:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $t:return Object(c.a)({},e);case zt:return{setup:t.payload.setup};case Xt:return Object(c.a)(Object(c.a)({},e),{},{error:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case O:case g:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,isAuthenticated:!1});case Q:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case f:case p:case y:case G:return localStorage.setItem("userMode",t.payload.userMode),Object(c.a)(Object(c.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case S:return{loading:!1,isAuthenticated:!1,user:null};case N:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case w:case H:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case h:case v:return Object(c.a)(Object(c.a)({},e),{},{isAuthenticated:!1,loading:!1,user:null,error:t.payload});case pe:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case R:case Z:case ce:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case k:case A:case ee:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isUpdated:t.payload});case se:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isDeleted:t.payload});case _:case T:case te:return Object(c.a)(Object(c.a)({},e),{},{isUpdated:!1});case re:return Object(c.a)(Object(c.a)({},e),{},{isDeleted:!1});case C:case D:case ae:case ne:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case pe:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:case M:case J:case Y:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case F:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,walletBalance:t.payload});case K:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,transactions:t.payload});case V:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,link:t.payload});case $:return Object(c.a)(Object(c.a)({},e),{},{link:null});case B:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,topup:t.payload});case W:case z:case q:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case X:return Object(c.a)(Object(c.a)({},e),{},{topup:null});default:return e}},userWorkers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{workers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case ea:return{workers:t.payload,loading:!1};case ta:return Object(c.a)(Object(c.a)({},e),{},{error:t.payload,loading:!1});default:return e}},authArtisan:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{artisan:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_ARTISAN_REQUEST":case"LOGIN_ARTISAN_REQUEST":case"LOAD_ARTISAN_REQUEST":return Object(c.a)(Object(c.a)({},e),{},{loading:!0,isAuthenticatedArtisan:!1});case"REGISTER_ARTISAN_SUCCESS":case"LOGIN_ARTISAN_SUCCESS":case"LOAD_ARTISAN_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isAuthenticatedArtisan:!0,artisan:t.payload});case"LOGOUT_ARTISAN_SUCCESS":return{loading:!1,isAuthenticatedArtisan:!1,artisan:null};case"LOAD_ARTISAN_FAIL":return{loading:!1,isAuthenticatedArtisan:!1,artisan:null,error:t.payload};case"LOGOUT_ARTISAN_FAIL":return Object(c.a)(Object(c.a)({},e),{},{error:t.payload});case"LOGIN_ARTISAN_FAIL":case"REGISTER_ARTISAN_FAIL":return Object(c.a)(Object(c.a)({},e),{},{isAuthenticatedArtisan:!1,loading:!1,artisan:null,error:t.payload});case _c:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},artisan:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PROFILE_REQUEST":case"UPDATE_PASSWORD_REQUEST":case"UPDATE_ARTISAN_REQUEST":case"DELETE_ARTISAN_REQUEST":return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case"UPDATE_PROFILE_SUCCESS":case"UPDATE_PASSWORD_SUCCESS":case"UPDATE_ARTISAN_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isUpdated:t.payload});case"DELETE_ARTISAN_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isDeleted:t.payload});case"UPDATE_PROFILE_RESET":case"UPDATE_PASSWORD_RESET":case"UPDATE_ARTISAN_RESET":return Object(c.a)(Object(c.a)({},e),{},{isUpdated:!1});case"DELETE_ARTISAN_RESET":return Object(c.a)(Object(c.a)({},e),{},{isDeleted:!1});case"UPDATE_PROFILE_FAIL":case"UPDATE_PASSWORD_FAIL":case"UPDATE_ARTISAN_FAIL":case"DELETE_ARTISAN_FAIL":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case _c:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},artisans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{artisans:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_ARTISANS_REQUEST":return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case"ALL_ARTISANS_SUCCESS":return{loading:!1,artisans:t.payload.artisans,artisansCount:t.payload.artisansCount,resPerPage:t.payload.resPerPage,filteredArtisansCount:t.payload.filteredArtisansCount};case"ALL_ARTISANS_FAIL":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case _c:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},artisanDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{artisan:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ARTISAN_DETAILS_REQUEST":return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case"ARTISAN_DETAILS_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,artisan:t.payload});case"ARTISAN_DETAILS_FAIL":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case _c:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_TASKS_REQUEST":case it:return{loading:!0,tasks:[]};case lt:return{loading:!1,tasks:t.payload};case"ALL_TASKS_SUCCESS":return{loading:!1,tasks:t.payload.tasks,tasksCount:t.payload.tasksCount,resPerPage:t.payload.resPerPage,filteredTasksCount:t.payload.filteredTasksCount};case"ALL_TASKS_FAIL":case ot:return{loading:!1,error:t.payload};case dt:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},prefs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{states:[],lgas:[],towns:[],categories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:case Nt:case Et:case Ct:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case gt:return Object(c.a)(Object(c.a)({},e),{},{states:t.payload,loading:!1});case St:return Object(c.a)(Object(c.a)({},e),{},{lgas:t.payload,loading:!1});case kt:return Object(c.a)(Object(c.a)({},e),{},{towns:t.payload,loading:!1});case Rt:return Object(c.a)(Object(c.a)({},e),{},{categories:t.payload,loading:!1});case yt:case wt:case _t:case At:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});default:return Object(c.a)({},e)}},singleTask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:case Be:case $e:case"TASK_WORKER_APPLICATION_REQUEST":return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case He:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isDeleted:t.payload});case"TASK_WORKER_APPLICATION_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,success:t.payload});case Ye:case ze:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isUpdated:t.payload});case Je:case Ve:case Ze:case"TASK_WORKER_APPLICATION_FAIL":return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case"DELETE_TASK_RESET":return Object(c.a)(Object(c.a)({},e),{},{isDeleted:!1});case"TASK_WORKER_APPLICATION_RESET":return Object(c.a)(Object(c.a)({},e),{},{success:!1});case"UPDATE_TASK_RESET":case Xe:return Object(c.a)(Object(c.a)({},e),{},{isUpdated:!1});case dt:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},myTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(c.a)(Object(c.a)({},e),{},{tasks:null,works:null,loading:!0});case st:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Pe:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,tasks:t.payload,works:null});case rt:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,nearbyTasks:t.payload});case Fe:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,works:t.payload,tasks:null});case We:case nt:return{loading:!1,error:t.payload};case dt:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},taskRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{task:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:case et:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Ke:case tt:return{loading:!1,success:t.payload.success};case Qe:case ct:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case qe:case at:return Object(c.a)(Object(c.a)({},e),{},{success:!1});case dt:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case le:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,users:t.payload});case oe:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case pe:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case je:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,user:t.payload});case ue:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case pe:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:case I:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,error:null});case U:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,message:t.payload});case me:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,success:t.payload});case Oe:case L:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case pe:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za:var a=t.payload,s=e.cartItems.find((function(e){return e.product===a.product}));return s?Object(c.a)(Object(c.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===s.product?a:e}))}):Object(c.a)(Object(c.a)({},e),{},{cartItems:[].concat(Object(lc.a)(e.cartItems),[a])});case Xa:return Object(c.a)(Object(c.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case Za:return Object(c.a)(Object(c.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oc:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case dc:return{loading:!1,order:t.payload};case jc:return{loading:!1,error:t.payload};case kc:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uc:return{loading:!0};case bc:return{loading:!1,orders:t.payload};case mc:return{loading:!1,error:t.payload};case kc:return{loading:!1,error:null};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sc:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case wc:return{loading:!1,order:t.payload};case Ec:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case kc:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oc:return{loading:!0};case pc:return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case hc:return{loading:!1,error:t.payload};case kc:return{loading:!1,error:null};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gc:case xc:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case fc:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isUpdated:t.payload});case yc:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isDeleted:t.payload});case Nc:case vc:return Object(c.a)(Object(c.a)({},e),{},{error:t.payload});case"DELETE_ORDER_RESET":return Object(c.a)(Object(c.a)({},e),{},{isDeleted:!1});case"UPDATE_ORDER_RESET":return Object(c.a)(Object(c.a)({},e),{},{isUpdated:!1});case kc:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fa:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Wa:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isDeleted:t.payload});case Ka:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case Ma:return Object(c.a)(Object(c.a)({},e),{},{isDeleted:!1});case Ya:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ia:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Ua:return{loading:!1,success:t.payload};case Pa:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case La:return Object(c.a)(Object(c.a)({},e),{},{success:!1});case Ya:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wa:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Ea:return{loading:!1,success:t.payload.success,product:t.payload.product};case ka:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case"NEW_PRODUCT_RESET":return Object(c.a)(Object(c.a)({},e),{},{success:!1});case Ya:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _a:case Aa:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Ca:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isDeleted:t.payload});case Ta:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,isUpdated:t.payload});case Ra:case Da:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case"DELETE_PRODUCT_RESET":return Object(c.a)(Object(c.a)({},e),{},{isDeleted:!1});case"UPDATE_PRODUCT_RESET":return Object(c.a)(Object(c.a)({},e),{},{isUpdated:!1});case Ya:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case Ja:return{loading:!1,reviews:t.payload};case Ba:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:t.payload});case"GET_REVIEWS_RESET":return Object(c.a)(Object(c.a)({},e),{},{success:!1});case Ya:return Object(c.a)(Object(c.a)({},e),{},{error:null});default:return e}}}),Rc={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},Ac=[nc.a],Tc=Object(rc.createStore)(Cc,Rc,Object(ic.composeWithDevTools)(rc.applyMiddleware.apply(void 0,Ac))),Dc=a(125),Ic=["isAdmin","component"],Uc=function(e){var t=e.isAdmin,a=e.component,r=Object(Dc.a)(e,Ic),n=Object(o.useSelector)((function(e){return e.auth})),i=n.isAuthenticated,d=n.loading,j=n.user;return Object(Se.jsx)(s.Fragment,{children:!1===d&&Object(Se.jsx)(l.Route,Object(c.a)(Object(c.a)({},r),{},{render:function(e){return!1===i?Object(Se.jsx)(l.Redirect,{to:"/login"}):!0===t&&"admin"!==j.role?Object(Se.jsx)(l.Redirect,{to:"/"}):Object(Se.jsx)(a,Object(c.a)({},e))}}))})},Lc=function(e){var t=e.history,a=Object(s.useState)(""),c=Object(_e.a)(a,2),r=c[0],n=c[1],i=Object(s.useState)(""),l=Object(_e.a)(i,2),j=l[0],u=l[1],b=Object(s.useState)(""),m=Object(_e.a)(b,2),O=m[0],p=m[1],h=Object(s.useState)("/images/default_avatar.jpg"),x=Object(_e.a)(h,2),f=x[0],v=x[1],g=Object(d.d)(),y=Object(o.useDispatch)(),N=Object(o.useSelector)((function(e){return e.auth})).user,S=Object(o.useSelector)((function(e){return e.user})),w=S.error,E=S.isUpdated,k=S.loading;Object(s.useEffect)((function(){N&&(n(N.name),u(N.email),v(N.avatar.url)),w&&(g.error(w),y(Ne())),E&&(g.success("User updated successfully"),y(fe()),t.push("/me"),y({type:_}))}),[y,N,g,w,t,E]);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Update Profile"}),Object(Se.jsx)("div",{class:"row wrapper",children:Object(Se.jsx)("div",{class:"col-10 col-lg-5",children:Object(Se.jsxs)("form",{class:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",r),t.set("email",j),t.set("avatar",O),y(he(t))},encType:"multipart/form-data",children:[Object(Se.jsx)("h1",{class:"mt-2 mb-5",children:"Update Profile"}),Object(Se.jsxs)("div",{class:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(Se.jsx)("input",{type:"name",id:"name_field",class:"form-control",name:"name",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(Se.jsxs)("div",{class:"form-group",children:[Object(Se.jsx)("label",{for:"email_field",children:"Email"}),Object(Se.jsx)("input",{type:"email",id:"email_field",class:"form-control",name:"email",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Se.jsxs)("div",{class:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(Se.jsxs)("div",{class:"d-flex align-items-center",children:[Object(Se.jsx)("div",{children:Object(Se.jsx)("figure",{class:"avatar mr-3 item-rtl",children:Object(Se.jsx)("img",{src:f,class:"rounded-circle",alt:"Avatar Preview"})})}),Object(Se.jsxs)("div",{class:"custom-file",children:[Object(Se.jsx)("input",{type:"file",name:"avatar",class:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(v(t.result),p(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(Se.jsx)("label",{class:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(Se.jsx)("button",{type:"submit",class:"btn update-btn btn-block mt-4 mb-3",disabled:!!k,children:"Update"})]})})})]})},Pc=function(e){var t=e.history,a=Object(s.useState)(""),c=Object(_e.a)(a,2),r=c[0],n=c[1],i=Object(s.useState)(""),l=Object(_e.a)(i,2),j=l[0],u=l[1],b=Object(d.d)(),m=Object(o.useDispatch)(),O=Object(o.useSelector)((function(e){return e.auth})).user,p=Object(o.useSelector)((function(e){return e.user})),h=p.error,x=p.isUpdated,f=p.loading;Object(s.useEffect)((function(){h&&(b.error(h),m(Ne())),x&&(b.success("Password updated successfully"),t.push("/me"),m({type:T}))}),[m,O,b,h,t,x]);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Change Password"}),Object(Se.jsx)("div",{className:"row wrapper",children:Object(Se.jsx)("div",{className:"col-10 col-lg-5",children:Object(Se.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("oldPassword",r),t.set("password",j),m(xe(t))},children:[Object(Se.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{for:"old_password_field",children:"Old Password"}),Object(Se.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{for:"new_password_field",children:"New Password"}),Object(Se.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Se.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!f,children:" Update Password"})]})})})]})},Fc=a(27),Wc=function(){var e=Object(s.useState)(""),t=Object(_e.a)(e,2),a=t[0],c=t[1],r=Object(d.d)(),n=Object(o.useDispatch)(),i=Object(o.useSelector)((function(e){return e.forgotPassword})),l=i.error,b=i.message,O=i.loading;Object(s.useEffect)((function(){l&&(r.error(l),n(Ne())),b&&r.success(b)}),[n,r,l,b]);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Forgot Pasword"}),Object(Se.jsx)("div",{className:"center-screen tile",children:Object(Se.jsx)("div",{className:"auth shadow-lg",children:Object(Se.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",a),n(function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:I}),c={headers:{"content-Type":"application/json"}},t.next=5,m.a.post("/api/v1/password/forgot",e,c);case 5:s=t.sent,r=s.data,a({type:U,payload:r.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:L,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(Se.jsx)("h3",{className:"mb-3 text-start",children:"Forgot Password"}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(Se.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(Se.jsxs)("div",{class:"mb-3 text-end",children:[Object(Se.jsx)(Fc.Link,{to:"/login",className:"btn btn-link text-dark-1",children:"Back to login"}),Object(Se.jsx)("button",{type:"submit",disabled:O,className:"btn bg-primary-1 px-3 ".concat(O?"loading":""),children:"Send Email"})]})]})})})]})},Mc=function(e){var t=e.history,a=e.match,c=Object(s.useState)(""),r=Object(_e.a)(c,2),n=r[0],i=r[1],l=Object(s.useState)(""),b=Object(_e.a)(l,2),O=b[0],p=b[1],h=Object(d.d)(),x=Object(o.useDispatch)(),f=Object(o.useSelector)((function(e){return e.forgotPassword})),v=f.error,g=f.success,y=f.loading;Object(s.useEffect)((function(){v&&(h.error(v),x(Ne())),g&&(h.success("Password updated successfully"),t.push("/login"))}),[x,h,v,g,t]);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"New Password"}),Object(Se.jsx)("div",{className:"row wrapper",children:Object(Se.jsx)("div",{className:"col-10 col-lg-5",children:Object(Se.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,s=new FormData;s.set("password",n),s.set("confirmPassword",O),x((t=a.params.token,c=s,function(){var e=Object(u.a)(Object(j.a)().mark((function e(a){var s,r,n;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:be}),s={headers:{"content-Type":"application/json"}},e.next=5,m.a.put("/api/v1/password/reset/".concat(t),c,s);case 5:r=e.sent,n=r.data,a({type:me,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:Oe,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(Se.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(Se.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(Se.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(Se.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",disabled:y,children:"Set Password"})]})})})]})},Kc=function(e){var t=e.history,a=Object(o.useDispatch)(),c=Object(o.useSelector)((function(e){return e.cart})).cartItems,r=function(e){a(function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a,c){return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:Xa,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Your Cart"}),0===c.length?Object(Se.jsx)("h2",{className:"mt-5",children:" Your Cart is Empty"}):Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(Se.jsxs)("b",{children:[c.length," items"]})]}),Object(Se.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(Se.jsx)("div",{className:"col-12 col-lg-8",children:c.map((function(e){return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)("hr",{}),Object(Se.jsx)("div",{className:"cart-item",children:Object(Se.jsxs)("div",{className:"row",children:[Object(Se.jsx)("div",{className:"col-4 col-lg-3",children:Object(Se.jsx)("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})}),Object(Se.jsx)("div",{className:"col-5 col-lg-3",children:Object(Se.jsx)(i.b,{to:"/product/".concat(e.product),children:e.name})}),Object(Se.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(Se.jsxs)("p",{id:"card_item_price",children:["$",e.price.toLocaleString()]})}),Object(Se.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(Se.jsxs)("div",{className:"stockCounter d-inline",children:[Object(Se.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t){var c=t-1;c<=0||a(ec(e,c))}(e.product,e.quantity)},children:"-"}),Object(Se.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(Se.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,c){var s=t+1;s>c||a(ec(e,s))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(Se.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(Se.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return r(e.product)}})})]})},e.product),Object(Se.jsx)("hr",{})]})}))}),Object(Se.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(Se.jsxs)("div",{id:"order_summary",children:[Object(Se.jsx)("h4",{children:"Order Summary"}),Object(Se.jsx)("hr",{}),Object(Se.jsxs)("p",{children:["Subtotal:  ",Object(Se.jsxs)("span",{className:"order-summary-values",children:[" ",c.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(Se.jsxs)("p",{children:["Est. total: ",Object(Se.jsxs)("span",{className:"order-summary-values",children:["$",c.reduce((function(e,t){return e+t.quantity*t.price}),0).toLocaleString()," "]})]}),Object(Se.jsx)("hr",{}),Object(Se.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})},qc=a(126),Qc=function(e){var t=e.shipping,a=e.confirmOrder,c=e.payment;return Object(Se.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(Se.jsxs)(i.b,{to:"shipping",className:"float-right",children:[Object(Se.jsx)("div",{className:"triangle2-active"}),Object(Se.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(Se.jsx)("div",{className:"triangle-active"})]}):Object(Se.jsxs)(i.b,{to:"#!",disabled:!0,children:[Object(Se.jsx)("div",{className:"triangle2-incomplete"}),Object(Se.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(Se.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(Se.jsxs)(i.b,{to:"/order/confirm",className:"float-right",children:[Object(Se.jsx)("div",{className:"triangle2-active"}),Object(Se.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(Se.jsx)("div",{className:"triangle-active"})]}):Object(Se.jsxs)(i.b,{to:"#!",disabled:!0,children:[Object(Se.jsx)("div",{className:"triangle2-incomplete"}),Object(Se.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(Se.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(Se.jsxs)(i.b,{to:"payment",className:"float-right",children:[Object(Se.jsx)("div",{className:"triangle2-active"}),Object(Se.jsx)("div",{className:"step active-step",children:"Payment"}),Object(Se.jsx)("div",{className:"triangle-active"})]}):Object(Se.jsxs)(i.b,{to:"#!",disabled:!0,children:[Object(Se.jsx)("div",{className:"triangle2-incomplete"}),Object(Se.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(Se.jsx)("div",{className:"triangle-incomplete"})]})]})},Gc=function(e){var t=e.history,a=Object.values(qc.countries),c=Object(o.useSelector)((function(e){return e.cart})).shippingInfo,r=Object(s.useState)(c.address),n=Object(_e.a)(r,2),i=n[0],l=n[1],d=Object(s.useState)(c.city),b=Object(_e.a)(d,2),m=b[0],O=b[1],p=Object(s.useState)(c.phoneNo),h=Object(_e.a)(p,2),x=h[0],f=h[1],v=Object(s.useState)(c.postalCode),g=Object(_e.a)(v,2),y=g[0],N=g[1],S=Object(s.useState)(c.country),w=Object(_e.a)(S,2),E=w[0],k=w[1],_=Object(o.useDispatch)();return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Shipping Info"}),Object(Se.jsx)(Qc,{shipping:!0}),Object(Se.jsx)("div",{className:"row wrapper",children:Object(Se.jsx)("div",{className:"col-10 col-lg-5",children:Object(Se.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var a;e.preventDefault(),_((a={address:i,city:m,phoneNo:x,postalCode:y,country:E},function(){var e=Object(u.a)(Object(j.a)().mark((function e(t,c){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Za,payload:a}),localStorage.setItem("shippingInfo",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),t.push("/order/confirm")},children:[Object(Se.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(Se.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:i,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(Se.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:m,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{htmlhtmlFor:"phone_field",children:"Phone No"}),Object(Se.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:x,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(Se.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:y,onChange:function(e){return N(e.target.value)},required:!0})]}),Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(Se.jsx)("select",{id:"country_field",className:"form-control",value:E,onChange:function(e){return k(e.target.value)},required:!0,children:a.map((function(e){return Object(Se.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(Se.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},Hc=function(e){var t=e.history,a=Object(o.useSelector)((function(e){return e.cart})),c=a.cartItems,r=a.shippingInfo,n=Object(o.useSelector)((function(e){return e.auth})).user,l=c.reduce((function(e,t){return e+t.price*t.quantity}),0),d=l>200?0:25,j=Number((.05*l).toFixed(2)),u=(l+d+j).toFixed(2);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Confirm Order"}),Object(Se.jsx)(Qc,{shipping:!0,confirmOrder:!0}),Object(Se.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(Se.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(Se.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("b",{children:"Name:"})," ",n&&n.name," "]}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("b",{children:"Phone:"})," ",r.phoneNo]}),Object(Se.jsxs)("p",{className:"mb-4",children:[Object(Se.jsx)("b",{children:"Address:"})," ","".concat(r.address,", ").concat(r.city,", ").concat(r.postalCode,", ").concat(r.country)]}),Object(Se.jsx)("hr",{}),Object(Se.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),c.map((function(e){return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)("hr",{}),Object(Se.jsx)("div",{className:"cart-item my-1",children:Object(Se.jsxs)("div",{className:"row",children:[Object(Se.jsx)("div",{className:"col-4 col-lg-2",children:Object(Se.jsx)("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})}),Object(Se.jsx)("div",{className:"col-5 col-lg-6",children:Object(Se.jsx)(i.b,{to:"/product/".concat(e.product),children:e.name})}),Object(Se.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(Se.jsxs)("p",{children:[e.quantity," x $",e.price," = ",Object(Se.jsxs)("b",{children:["$",e.quantity*e.price]})]})})]})},e.product),Object(Se.jsx)("hr",{})]})}))]}),Object(Se.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(Se.jsxs)("div",{id:"order_summary",children:[Object(Se.jsx)("h4",{children:"Order Summary"}),Object(Se.jsx)("hr",{}),Object(Se.jsxs)("p",{children:["Subtotal:  ",Object(Se.jsxs)("span",{className:"order-summary-values",children:["$",l]})]}),Object(Se.jsxs)("p",{children:["Shipping: ",Object(Se.jsxs)("span",{className:"order-summary-values",children:["$",d]})]}),Object(Se.jsxs)("p",{children:["Tax:  ",Object(Se.jsxs)("span",{className:"order-summary-values",children:["$",j]})]}),Object(Se.jsx)("hr",{}),Object(Se.jsxs)("p",{children:["Total: ",Object(Se.jsxs)("span",{className:"order-summary-values",children:["$",u]})]}),Object(Se.jsx)("hr",{}),Object(Se.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={itemPrice:l.toFixed(2),shippingPrice:d,taxPrice:j,totalPrice:u};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},Jc=function(){return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Order Success"}),Object(Se.jsx)("div",{className:"row justify-content-center",children:Object(Se.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(Se.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object(Se.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(Se.jsx)(i.b,{to:"/orders/me",children:"Go to Orders"})]})})]})},Bc=a(57),Yc=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:kc});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Vc=function(){var e=Object(d.d)(),t=Object(o.useDispatch)(),a=Object(o.useSelector)((function(e){return e.myOrders})),c=a.loading,r=a.error,n=a.orders;Object(s.useEffect)((function(){t(function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:uc}),e.next=4,m.a.get("/api/v1/orders/me");case 4:a=e.sent,c=a.data,t({type:bc,payload:c.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:mc,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),r&&(e.error(r),t(Yc()))}),[t,e,r]);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"My Orders"}),Object(Se.jsx)("h1",{className:"my-5",children:"My Orders"}),c?Object(Se.jsx)(Gt,{}):Object(Se.jsx)(Bc.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(Se.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(Se.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(Se.jsx)(i.b,{to:"/order/".concat(t._id),className:"btn btn-primary",children:Object(Se.jsx)("i",{className:"fa fa-eye"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},$c=function(e){var t=e.match,a=Object(d.d)(),c=Object(o.useDispatch)(),r=Object(o.useSelector)((function(e){return e.orderDetails})),n=r.loading,l=r.order,b=r.error,O=l.shippingInfo,p=l.orderItems,h=l.paymentInfo,x=l.user,f=l.totalPrice,v=l.orderStatus;Object(s.useEffect)((function(){var e;c((e=t.params.id,function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Sc}),t.next=4,m.a.get("/api/v1/order/".concat(e));case 4:c=t.sent,s=c.data,a({type:wc,payload:s.order}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),a({type:Ec,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),b&&(a.error(b),c(Yc()))}),[c,a,b,t.params.id]);var g=O&&"".concat(O.address,", ").concat(O.city,", ").concat(O.postalCode,", ").concat(O.country),y=h&&"succeeded"===h.status;return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Order Details"}),n?Object(Se.jsx)(Gt,{}):Object(Se.jsx)(s.Fragment,{children:Object(Se.jsx)("div",{className:"row d-flex justify-content-between",children:Object(Se.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(Se.jsxs)("h1",{className:"my-5",children:["Order # ",l._id]}),Object(Se.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("b",{children:"Name:"})," ",x&&x.name]}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("b",{children:"Phone:"})," ",O&&O.phoneNo]}),Object(Se.jsxs)("p",{className:"mb-4",children:[Object(Se.jsx)("b",{children:"Address:"}),g]}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("b",{children:"Amount:"})," $",f]}),Object(Se.jsx)("hr",{}),Object(Se.jsx)("h4",{className:"my-4",children:"Payment"}),Object(Se.jsx)("p",{className:y?"greenColor":"redColor",children:Object(Se.jsx)("b",{children:y?"PAID":"NOT PAID"})}),Object(Se.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(Se.jsx)("p",{className:v&&String(v).includes("Delivered")?"greenColor":"redColor",children:Object(Se.jsx)("b",{children:v})}),Object(Se.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(Se.jsx)("hr",{}),Object(Se.jsx)("div",{className:"cart-item my-1",children:p&&p.map((function(e){return Object(Se.jsxs)("div",{className:"row my-5",children:[Object(Se.jsx)("div",{className:"col-4 col-lg-2",children:Object(Se.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(Se.jsx)("div",{className:"col-5 col-lg-5",children:Object(Se.jsx)(i.b,{to:"/products/".concat(e.product),children:e.name})}),Object(Se.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(Se.jsxs)("p",{children:["$",e.price]})}),Object(Se.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(Se.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(Se.jsx)("hr",{})]})})})]})},zc=a(115),Xc=function(e){var t=e.rating,a=e.setRating,c=Object(s.useState)(0),r=Object(_e.a)(c,2),n=r[0],i=r[1],l=function(e){return i(e)};return Object(Se.jsx)("div",{className:"stars",children:Object(lc.a)(Array(5)).map((function(e,c){var s=c+1,r=s<=n,i=s<=t;return Object(Se.jsx)("span",{className:"star ".concat(i?"orange":""," ").concat(r?"yellow":""),onMouseEnter:function(){return l(s)},onMouseLeave:function(){return l(0)},onClick:function(){return a(s)},children:"\u2605"},s)}))})},Zc=function(e){var t,a,c=e.handleCancel,r=e.handleUpdate,n=e.workerId,i=e.loading,l=e.taskId,o=e.taskWorker,d=Object(s.useState)((null===o||void 0===o||null===(t=o.review)||void 0===t?void 0:t.rating)||0),j=Object(_e.a)(d,2),u=j[0],b=j[1],m=Object(s.useState)((null===o||void 0===o||null===(a=o.review)||void 0===a?void 0:a.comment)||""),O=Object(_e.a)(m,2),p=O[0],h=O[1],x=Object(s.useState)([]),f=Object(_e.a)(x,2),v=f[0],g=f[1];return Object(Se.jsx)("div",{className:"modal--overlay",children:Object(Se.jsx)("div",{className:"modal-",children:Object(Se.jsxs)("div",{className:"review",children:[Object(Se.jsxs)("div",{className:"review-heading",children:[Object(Se.jsx)("h3",{}),Object(Se.jsx)("i",{class:"fa fa-times","aria-hidden":"true",onClick:c})]}),Object(Se.jsxs)("div",{className:"user-view",children:[Object(Se.jsx)("div",{className:"avatar",children:Object(Se.jsx)("img",{src:"/images/avatar.png",alt:"Avatar"})}),Object(Se.jsxs)("h4",{children:["".concat(o.worker.owner.firstName," ").concat(o.worker.owner.lastName)," "]}),Object(Se.jsx)("div",{className:"".concat(v.includes("rating")?"shake":""),children:Object(Se.jsx)(Xc,{rating:u,setRating:b})})]}),Object(Se.jsxs)("div",{className:"mb-3 ".concat(v.includes("comment")?"shake":""),children:[Object(Se.jsx)("label",{for:"message",className:"form-label",children:"Comment:"}),Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("textarea",{value:p,onChange:function(e){return h(e.target.value)},rows:"3"})})]}),Object(Se.jsx)("button",{className:"btn bg-primary-1 ".concat(i?"loading":""),onClick:function(e){e.preventDefault(),0===u?g((function(e){return[].concat(Object(lc.a)(e),["rating"])})):u<3&&""===p?g((function(e){return[].concat(Object(lc.a)(e),["comment"])})):r({rating:u,comment:p,workerId:n,taskId:l}),setTimeout((function(){return g([])}),500)},children:"Submit"})]})})})},es=function(e){var t=e.show,a=e.loading,c=e.handleConfirm,s=e.handleCancel,r=e.commission;return Object(Se.jsxs)(zc.a,{show:t,onHide:s,backdrop:"static",keyboard:!1,children:[Object(Se.jsxs)(zc.a.Header,{children:[Object(Se.jsx)(zc.a.Title,{children:"Attention!!!"}),Object(Se.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:s})]}),Object(Se.jsx)(zc.a.Body,{children:Object(Se.jsx)("div",{className:"mb-3 text-center",children:Object(Se.jsx)("p",{children:"\u20a6".concat(r," will be debited from your account.")})})}),Object(Se.jsxs)(zc.a.Footer,{children:[Object(Se.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:s,children:"Cancel"}),Object(Se.jsx)("button",{type:"button",className:"btn bg-primary-1 ".concat(a?"loading":""),disabled:a,onClick:c,children:"Confirm"})]})]})},ts=function(e){var t=e.view,a=e.updateDetails,c=e.commission,r=e.userMode,n=e.tabDirection,i=e.workerId,l=e.taskWorker,b=Object(s.useState)(!1),m=Object(_e.a)(b,2),O=m[0],p=m[1],h=Object(d.d)(),x=Object(o.useDispatch)(),f=Object(s.useState)(!1),v=Object(_e.a)(f,2),g=v[0],y=v[1],N=Object(s.useState)(!1),S=Object(_e.a)(N,2),w=S[0],E=S[1],k=function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var c,s,i;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t&&x(Oa(t)),e.next=4,pt(a);case 4:c=e.sent,s=c.success,i=c.error,s&&h.success("Status Updated"),i&&h.error(i),p(!1),y(!1),E(!1),x(r?jt(n):ut(n)),"Accepted"===a.status&&x(ve());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)("button",{className:"".concat(t.btn," ").concat(O?"loading":""),onClick:function(){r||"Accepted"!==a.status?r&&"Completed"===a.status?E(!0):k():y(!0)},disabled:O,children:t.txt}),Object(Se.jsx)(es,{show:g,loading:O,handleConfirm:k,handleCancel:function(){return y(!1)},commission:c}),w&&Object(Se.jsx)(Zc,{show:w,loading:O,handleUpdate:k,handleCancel:function(){return E(!1)},workerId:i,taskId:a.taskId,taskWorker:l})]})},as=function(e){var t=(new Date).getTime()-new Date(e).getTime(),a=Math.floor(t/1e3),c=Math.floor(a/60),s=Math.floor(c/60),r=Math.floor(s/24);return r>0?"".concat(1===r?"Yesterday":r+" days ago"):s>0?"".concat(s," hour").concat(1!==s?"s":""," ago"):c>0?"".concat(c," minute").concat(1!==c?"s":""," ago"):"".concat(a," second").concat(1!==a?"s":""," ago")},cs=function(e){return"\u20a6".concat(Number(e).toLocaleString("en-US"))},ss=function(e){var t=e.taskWorker,a=e.taskId,r=e.displayButton,n=(e.time,e.userMode),i=e.tabDirection,l=(e.review,is(t.escrow.worker)),o={taskId:a,workerId:t._id,status:l.action},d=Object(s.useState)(!0),j=Object(_e.a)(d,2),u=j[0],b=j[1];return Object(Se.jsx)("div",{className:"timeline-item",children:Object(Se.jsxs)("div",{className:"jobrequest-item timeline-bullet",children:[u&&Object(Se.jsx)("div",{className:"avatar",style:{maxWidth:"50px",paddingBottom:"50px"},children:Object(Se.jsx)("img",{src:t.worker.owner.avatar.url,alt:t.worker.owner.firstName,onLoad:function(){return b(!0)},onError:function(){return b(!1)}})}),Object(Se.jsxs)("div",{className:"jobrequest--content",children:[Object(Se.jsxs)("div",{className:"title-containter",children:[Object(Se.jsx)("h5",{className:"single-line",children:"".concat(t.worker.owner.firstName," ").concat(t.worker.owner.lastName)}),Object(Se.jsx)("p",{})]}),Object(Se.jsxs)("div",{className:"jobrequest--action",children:[Object(Se.jsx)("i",{className:l.i,"aria-hidden":"true",style:{fontSize:"10px"}}),Object(Se.jsx)("em",{children:Object(Se.jsx)("h6",{className:"single-line mb-0",children:l.status})}),Object(Se.jsx)(ts,{updateDetails:o,view:Object(c.a)(Object(c.a)({},l),{},{txt:"".concat(r(t))}),userMode:n,tabDirection:i,workerId:t.worker._id,taskWorker:t})]})]})]})})},rs=function(e){var t=e.taskApplicant,a=e.taskId,r=(e.displayButton,e.time,e.userMode),n=e.tabDirection,i=(e.review,is("Request")),l={taskId:a,workerId:t.worker._id,status:i.action},o=Object(s.useState)(!0),d=Object(_e.a)(o,2),j=d[0],u=d[1];return Object(Se.jsx)("div",{className:"timeline-item",children:Object(Se.jsxs)("div",{className:"jobrequest-item timeline-bullet",children:[j&&Object(Se.jsx)("div",{className:"avatar",style:{maxWidth:"50px",paddingBottom:"50px"},children:Object(Se.jsx)("img",{src:t.worker.owner.avatar.url,alt:t.worker.owner.firstName,onLoad:function(){return u(!0)},onError:function(){return u(!1)}})}),Object(Se.jsxs)("div",{className:"jobrequest--content",children:[Object(Se.jsxs)("div",{className:"title-containter",children:[Object(Se.jsx)("h5",{className:"single-line",children:"".concat(t.worker.owner.firstName," ").concat(t.worker.owner.lastName)}),Object(Se.jsx)("p",{children:as(t.createdAt)})]}),Object(Se.jsxs)("div",{className:"jobrequest--action",children:[Object(Se.jsx)("em",{children:Object(Se.jsx)("p",{className:"message",children:t.message})}),Object(Se.jsx)(ts,{updateDetails:l,view:Object(c.a)(Object(c.a)({},i),{},{txt:"".concat(i.txt)}),userMode:r,tabDirection:n,workerId:t.worker._id,taskWorker:t})]})]})]})})},ns=function(e){var t=e.singleWorker,a=e.taskId,r=e.description,n=e.displayButton,i=e.time,l=e.userMode,o=e.tabDirection,d=(e.review,is(t.escrow.worker)),j={taskId:a,workerId:t._id,status:d.action},u=Object(s.useState)(!0),b=Object(_e.a)(u,2),m=b[0],O=b[1];return Object(Se.jsxs)("div",{className:"jobrequest-item",children:[m&&Object(Se.jsx)("div",{className:"avatar",children:Object(Se.jsx)("img",{src:t.worker.owner.avatar.url,alt:t.worker.owner.firstName,onLoad:function(){return O(!0)},onError:function(){return O(!1)}})}),Object(Se.jsxs)("div",{className:"jobrequest--content",children:[Object(Se.jsxs)("div",{className:"title-containter",children:[Object(Se.jsx)("h5",{className:"single-line",children:"".concat(t.worker.owner.firstName," ").concat(t.worker.owner.lastName)}),Object(Se.jsx)("p",{children:as(i)})]}),Object(Se.jsx)("p",{className:"message",children:r}),Object(Se.jsxs)("div",{className:"jobrequest--action",children:[Object(Se.jsx)("i",{className:d.i,"aria-hidden":"true",style:{fontSize:"10px"}}),Object(Se.jsx)("em",{children:Object(Se.jsx)("h6",{className:"single-line mb-0",children:d.status})}),Object(Se.jsx)(ts,{updateDetails:j,view:Object(c.a)(Object(c.a)({},d),{},{txt:"".concat(n(t))}),userMode:l,tabDirection:o,workerId:t.worker._id,taskWorker:t})]})]})]})},is=function(e){switch(e){case"Accepted":return{i:"fa fa-circle text-orange me-1",btn:"bg-dark-3 btn ms-auto",txt:"Cancel",status:"In Progress",action:""};case"Pending":return{i:"fa fa-circle text-dark-3 me-1",btn:"bg-dark-3 btn ms-auto",txt:"Cancel",status:e,action:""};case"Completed":return{i:"fa fa-circle text-success me-1",btn:"btn ms-auto bg-secondary-3",txt:"Confirm",status:e,action:"Completed"};case"Request":return{i:"fa fa-circle text-success me-1",btn:"btn ms-auto bg-secondary-3",txt:"Assign Task",status:e,action:"Pending"};default:return{i:"fa fa-circle text-dark-3 me-1",btn:"btn ms-auto bg-dark-3 d-none",txt:"Cancel",status:"".concat(e," by worker"),action:"Cancelled"}}},ls=function(e){var t,a,c=e.task,s=e.action,r=e.userMode,n=e.tabDirection,i=is(c.status),l=function(e){return"Completed"===e.escrow.user?"Review":i.txt},o=function(e){return s(e)};return Object(Se.jsx)(Se.Fragment,{children:c.workers.length>1||c.applicants.length>0?Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)("div",{className:"jobrequest-item timeline",children:Object(Se.jsxs)("div",{className:"jobrequest--content",children:[Object(Se.jsxs)("div",{className:"title-containter",children:[Object(Se.jsx)("h5",{className:"single-line",children:c.title}),Object(Se.jsx)("p",{children:as(c.createdAt)})]}),Object(Se.jsx)("p",{className:"message",children:c.description})]})}),Object(Se.jsxs)("div",{className:"timeline-list",children:[null===(t=c.workers)||void 0===t?void 0:t.map((function(e){return Object(Se.jsx)(ss,{taskWorker:e,taskId:c._id,displayButton:l,handleUpdate:o,time:c.createdAt,userMode:r,tabDirection:n,review:e.review},e._id)})),null===(a=c.applicants)||void 0===a?void 0:a.map((function(e){return Object(Se.jsx)(rs,{taskApplicant:e,taskId:c._id,displayButton:l,handleUpdate:o,time:c.createdAt,userMode:r,tabDirection:n,review:e.review},e._id)}))]})]}):1===c.workers.length&&Object(Se.jsx)(ns,{singleWorker:c.workers[0],taskId:c._id,displayButton:l,description:c.description,handleUpdate:o,time:c.createdAt,userMode:r,tabDirection:n,review:c.workers[0].review})})},os=function(e){switch(e){case"Pending":return{i:"fa fa-circle text-orange me-1",btn:"btn bg-secondary-3",txt:{confirm:"Accept Request",decline:"Decline"},action:{confirm:"Accepted",decline:"Declined"}};case"Accepted":return{i:"fa fa-circle text-orange me-1",btn:"btn bg-secondary-3",txt:{confirm:"Task Completed",decline:"Abandon"},action:{confirm:"Completed",decline:"Abandoned"}};case"Completed":return{i:"fa fa-circle text-success me-1",btn:"btn bg-secondary-3",txt:"Task ".concat(e),action:""};default:return{i:"fa fa-circle text-dark-3 me-1",btn:"btn ms-auto bg-dark-3",txt:"Task ".concat(e),action:""}}},ds=function(e){var t,a=e.task,r=e.userMode,n=e.tabDirection,i=os(a.escrow.worker),l="Cancelled"===a.escrow.user||"Completed, Declined".includes(a.escrow.worker),o="Completed"!==a.escrow.user&&"Completed"===a.escrow.worker,d={taskId:a._id,workerId:a.user._id,status:i.action},j=.1*a.budget||.1*a.worker.pricing.minRate,u=Object(s.useState)(!0),b=Object(_e.a)(u,2),m=b[0],O=b[1];return Object(Se.jsxs)("div",{className:"jobrequest-item",children:[m&&Object(Se.jsx)("div",{className:"avatar",children:Object(Se.jsx)("img",{src:a.user.avatar.url,alt:a.user.firstName,onLoad:function(){return O(!0)},onError:function(){return O(!1)}})}),Object(Se.jsxs)("div",{className:"jobrequest--content",children:[Object(Se.jsxs)("div",{className:"title-containter",children:[Object(Se.jsx)("h5",{className:"single-line",children:a.title}),Object(Se.jsx)("p",{children:as(a.createdAt)})]}),Object(Se.jsx)("p",{className:"message",children:a.summary||a.description}),l?Object(Se.jsx)("em",{children:Object(Se.jsxs)("h6",{className:"single-line mb-0",children:[Object(Se.jsx)("i",{className:i.i,"aria-hidden":"true",style:{fontSize:"10px"}}),o?"Pending confirmation":i.txt]})}):Object(Se.jsxs)("h5",{children:[Object(Se.jsx)("i",{className:"fa fa-map-marker me-1 text-danger","aria-hidden":"true"}),null===(t=a.location)||void 0===t?void 0:t.town]}),Object(Se.jsxs)("div",{className:"jobrequest--action ".concat(l?"d-none":""),children:[Object(Se.jsx)(ts,{updateDetails:Object(c.a)(Object(c.a)({},d),{},{status:i.action.confirm}),view:{txt:i.txt.confirm,btn:i.btn},commission:j,userMode:r,tabDirection:n}),Object(Se.jsx)(ts,{updateDetails:Object(c.a)(Object(c.a)({},d),{},{status:i.action.decline}),view:{txt:i.txt.decline,btn:"btn decline"},commission:j,userMode:r,tabDirection:n})]})]})]})},js=Object(s.createContext)(),us=function(){var e=JSON.parse(localStorage.getItem("userMode")),t=Object(o.useDispatch)(),a=Object(Fc.useHistory)(),r={pending:!1,"in progress":!1,completed:!1},n=Object(s.useState)(Object(c.a)(Object(c.a)({},r),{},{pending:!0})),i=Object(_e.a)(n,2),l=i[0],d=i[1],j=Object(s.useState)("Pending"),u=Object(_e.a)(j,2),b=u[0],m=u[1],O=Object(s.useState)("pending"),p=Object(_e.a)(O,2),h=p[0],x=p[1],f=function(e){m(e.target.childNodes[0].textContent),x(e.target.attributes["data-name"].value),v(e.target.attributes["data-name"].value),d(Object(c.a)(Object(c.a)({},r),{},Object(Ue.a)({},e.target.childNodes[0].textContent.toLowerCase(),!0)))},v=function(a){return t(e?jt(a):ut(a))},g=Object(o.useSelector)((function(e){return e.myTasks})),y=g.tasks,N=g.works,S=g.loading,w=(null===N||void 0===N?void 0:N.length)||(null===y||void 0===y?void 0:y.length);Object(s.useEffect)((function(){t(e?jt("pending"):ut("pending"))}),[]);var E=Object(s.useState)(!1),k=Object(_e.a)(E,2),_=k[0],C=k[1];return Object(Se.jsx)(js.Provider,{value:{userMode:e,tabDirection:h},children:Object(Se.jsxs)("div",{className:"list--",children:[Object(Se.jsxs)("div",{className:"d-flex",children:[Object(Se.jsx)("h3",{className:"list--title",onClick:function(){return a.push("/managetasks")},children:"Manage Tasks"}),e&&Object(Se.jsxs)("button",{className:"btn",onClick:function(){return C(!0)},children:[Object(Se.jsx)("i",{className:"fa fa-plus me-1","aria-hidden":"true"}),"create request"]})]}),Object(Se.jsxs)("div",{className:"list--heading",children:[Object(Se.jsxs)("div",{className:"job-status ".concat(l.pending&&"active"),"data-name":"pending",onClick:f,children:["Pending",Object(Se.jsx)("span",{className:"job-status ".concat(w>0&&"bordered-icon"," ").concat(!l.pending&&"d-none"),children:w>0?w:""})]}),Object(Se.jsxs)("div",{className:"job-status ".concat(l["in progress"]&&"active"),"data-name":"accepted",onClick:f,children:["In progress",Object(Se.jsx)("span",{className:"job-status ".concat(w>0&&"bordered-icon"," ").concat(!l["in progress"]&&"d-none"),children:w>0?w:""})]}),Object(Se.jsxs)("div",{className:"job-status ".concat(l.completed&&"active"),"data-name":"completed",onClick:f,children:["Completed",Object(Se.jsx)("span",{className:"job-status ".concat(w>0&&"bordered-icon"," ").concat(!l.completed&&"d-none"),children:w>0?w:""})]})]}),w>0?Object(Se.jsxs)(Se.Fragment,{children:[y&&y.map((function(t){return Object(Se.jsx)(ls,{task:t,userMode:e,tabDirection:h},t._id)})),N&&N.map((function(t){return Object(Se.jsx)(ds,{task:t,userMode:e,tabDirection:h},t._id)}))]}):Object(Se.jsx)("div",{className:"empty-task-list ".concat(S&&"loading"),children:Object(Se.jsx)("h5",{children:"No Task ".concat(b)})}),Object(Se.jsx)(Qt,{show:_,handleClose:function(){return C(!1)}})]})})},bs=a(2).useState,ms=a(61).Modal,Os=function(e){var t=e.workerProfiles,a=e.taskId,s=e.show,r=e.handleClose,n=Object(d.d)(),i=bs(!1),l=Object(_e.a)(i,2),o=l[0],b=l[1],m=bs({profileId:t[0]._id,message:""}),O=Object(_e.a)(m,2),p=O[0],h=O[1],x=function(e){return h((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(Ue.a)({},e.target.name,e.target.value))}))},f=function(){var e=Object(u.a)(Object(j.a)().mark((function e(){var t,s,i;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,mt(Object(c.a)(Object(c.a)({},p),{},{taskId:a}));case 3:t=e.sent,s=t.error,i=t.success,s&&n.error(s),i&&n.success("Application submitted"),b(!1),r();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Se.jsxs)(ms,{show:s,onHide:r,backdrop:"static",keyboard:!1,children:[Object(Se.jsxs)(ms.Header,{children:[Object(Se.jsx)(ms.Title,{children:"Create Work Request"}),Object(Se.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:r})]}),Object(Se.jsxs)(ms.Body,{children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"location",className:"form-label",children:"Select work profile:"}),Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("select",{"aria-label":"Select Work Profile",name:"profileId",value:p.profileId,onChange:x,children:t.map((function(e){return Object(Se.jsx)("option",{value:e._id,children:e.category.name},e._id)}))})})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"message",className:"form-label",children:"Additional message (Optional):"}),Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("textarea",{id:"message",name:"message",placeholder:"Sure, I'd be happy to take on the job!",value:p.message,onChange:x,rows:"2"})})]})]}),Object(Se.jsxs)(ms.Footer,{children:[Object(Se.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Cancel"}),Object(Se.jsx)("button",{type:"button",className:"btn bg-primary-1 ".concat(o&&"loading"),disabled:o,onClick:f,children:"Apply"})]})]})},ps=function(e){var t=e.task,a=Object(o.useSelector)((function(e){return e.auth})).user,c=Object(s.useState)(!1),r=Object(_e.a)(c,2),n=r[0],i=r[1];return Object(Se.jsxs)("div",{className:"jobrequest-item",children:[Object(Se.jsx)("div",{className:"avatar",children:Object(Se.jsx)("img",{src:"/images/avatar.png",alt:""})}),Object(Se.jsxs)("div",{className:"jobrequest--content",children:[Object(Se.jsxs)("div",{className:"title-containter",children:[Object(Se.jsx)("h5",{className:"single-line",children:t.title}),Object(Se.jsx)("p",{children:as(t.createdAt)})]}),Object(Se.jsx)("p",{className:"message",children:t.summary||t.description}),Object(Se.jsxs)("h5",{children:[Object(Se.jsx)("i",{className:"fa fa-map-marker me-1 text-danger","aria-hidden":"true"}),t.location.town]}),Object(Se.jsxs)("div",{className:"jobrequest--action",children:[t.budget&&Object(Se.jsx)("div",{className:"btn budget",children:"Budget: ".concat(cs(t.budget))}),Object(Se.jsx)("button",{className:"btn accept",onClick:function(){return i(!0)},children:"Apply"})]})]}),a&&Object(Se.jsx)(Os,{workerProfiles:null===a||void 0===a?void 0:a.workers,taskId:t._id,show:n,handleClose:function(){return i(!1)}})]})},hs=function(){var e=Object(o.useDispatch)(),t=Object(Fc.useHistory)(),a=Object(o.useSelector)((function(e){return e.myTasks})).nearbyTasks,c=JSON.parse(localStorage.getItem("user"));return Object(s.useEffect)((function(){var t,a,s;void 0!==c.contact&&e(bt({location:{lga:null===c||void 0===c||null===(t=c.contact)||void 0===t||null===(a=t.town)||void 0===a||null===(s=a.lga)||void 0===s?void 0:s._id}}))}),[]),Object(Se.jsx)(Se.Fragment,{children:(null===a||void 0===a?void 0:a.length)>0&&Object(Se.jsxs)("div",{className:"nearby-tasks",children:[Object(Se.jsxs)("div",{className:"heading-link",children:[Object(Se.jsx)("div",{className:"title",children:Object(Se.jsx)("h5",{children:"Job Requests Near You"})}),(null===a||void 0===a?void 0:a.length)>0&&Object(Se.jsx)("div",{className:"link",onClick:function(){return t.push("/morejobs")},children:Object(Se.jsx)("h5",{children:"See All"})})]}),Object(Se.jsx)("div",{className:"grid--",children:a.map((function(e){return Object(Se.jsx)(ps,{task:e},e._id)}))})]})})},xs=function(e){var t=e.handleClose,a=e.handleAction,c=e.loading,r=Object(s.useState)(""),n=Object(_e.a)(r,2),i=n[0],l=n[1],o=function(e){var t=e.replace(/\D/g,""),a=new Intl.NumberFormat("en-US").format(t);l(a)};return Object(Se.jsx)("div",{className:"modal--overlay",children:Object(Se.jsxs)("div",{className:"modal-",children:[Object(Se.jsxs)("div",{className:"modal--header",children:[Object(Se.jsx)("h2",{children:"Top up wallet"}),Object(Se.jsx)("button",{className:"close-modal-",onClick:t,children:"\xd7"})]}),Object(Se.jsx)("div",{className:"modal--body",children:Object(Se.jsx)("form",{children:Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("input",{type:"text",className:"form-control",id:"amount",value:i,autoComplete:"off",onChange:function(e){return o(e.target.value)},placeholder:"Enter amount"}),Object(Se.jsxs)("div",{for:"email",className:"suggession",children:[Object(Se.jsx)("span",{onClick:function(e){return o(e.target.innerHTML)},children:"200"}),Object(Se.jsx)("span",{onClick:function(e){return o(e.target.innerHTML)},children:"500"}),Object(Se.jsx)("span",{onClick:function(e){return o(e.target.innerHTML)},children:"1,000"}),Object(Se.jsx)("span",{onClick:function(e){return o(e.target.innerHTML)},children:"5,000"})]})]})})}),Object(Se.jsx)("div",{className:"modal--footer",children:Object(Se.jsx)("button",{className:"btn",onClick:function(){return a(i)},children:Object(Se.jsx)("span",{className:c&&"spinner",children:!c&&"Next"})})})]})})},fs=function(){var e=Object(o.useDispatch)(),t=Object(d.d)(),a=Object(Fc.useHistory)(),c=Object(s.useState)(!1),r=Object(_e.a)(c,2),n=r[0],i=r[1],l=Object(o.useSelector)((function(e){return e.wallet})),b=l.walletBalance,O=l.link,p=l.loading,h=l.topup,x=l.jobs;Object(s.useEffect)((function(){e(ve()),O&&(window.location.href=O,e({type:$})),h&&(t.success(h.message),a.push("/dashboard"),e({type:X}))}),[O,e,t,h,a]),Object(s.useEffect)((function(){var t,a=new URLSearchParams(window.location.search),c=a.get("tx_ref"),s=a.get("status"),r=a.get("transaction_id");s&&e((t="?status=".concat(s,"&tx_ref=").concat(c,"&transaction_id=").concat(r),function(){var e=Object(u.a)(Object(j.a)().mark((function e(a){var c,s,r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"content-Type":"application/json"}},e.prev=1,a({type:Y}),e.next=5,m.a.get("/api/v1/flwpayment/callback".concat(t),c);case 5:s=e.sent,r=s.data,a({type:B,payload:r.topup}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a({type:z,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);var f,v=JSON.parse(localStorage.getItem("userMode"));return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsxs)("div",{className:"funds",children:[Object(Se.jsx)("h5",{children:"Work credit balance"}),Object(Se.jsx)("h2",{className:"".concat(p&&"loading"),children:b>=0?"\u20a6".concat((f=b,Number(f).toLocaleString("en-US",{minimumFractionDigits:2}))):"--"}),Object(Se.jsxs)("div",{className:"account-actions",children:[Object(Se.jsxs)("div",{className:"action",onClick:function(){return i(!0)},children:[Object(Se.jsx)("button",{className:"btn",children:Object(Se.jsx)("i",{className:"fa fa-arrow-circle-down","aria-hidden":"true"})}),"Top up"]}),Object(Se.jsxs)("div",{className:"action",children:[Object(Se.jsx)("button",{className:"btn",children:Object(Se.jsx)("i",{className:"fa fa-credit-card","aria-hidden":"true"})}),"Cashout"]}),Object(Se.jsxs)("div",{className:"action",onClick:function(){return a.push("/payments")},children:[Object(Se.jsx)("button",{className:"btn",children:Object(Se.jsx)("i",{className:"fa fa-history","aria-hidden":"true"})}),"History"]})]})]}),x&&Object(Se.jsxs)("div",{className:"performance",children:[Object(Se.jsx)("h5",{className:"text-secondary",children:"Past 7 days performance"}),Object(Se.jsxs)("div",{className:"shoutout",children:[Object(Se.jsx)("h2",{className:"title",children:"45 Job Request"}),Object(Se.jsx)("h2",{className:"text-success ms-3",children:"+13%"})]}),Object(Se.jsxs)("div",{className:"metrics",children:[Object(Se.jsxs)("div",{className:"legend",children:["36",Object(Se.jsxs)("div",{className:"legend-title",children:[Object(Se.jsx)("i",{className:"fa fa-check-circle me-1 text-success","aria-hidden":"true"}),"completed"]})]}),Object(Se.jsxs)("div",{className:"legend",children:["1",Object(Se.jsxs)("div",{className:"legend-title",children:[Object(Se.jsx)("i",{className:"fa fa-tasks me-1 text-info","aria-hidden":"true"}),"In progress"]})]}),Object(Se.jsxs)("div",{className:"legend",children:["5",Object(Se.jsxs)("div",{className:"legend-title",children:[Object(Se.jsx)("i",{className:"fa fa-clock-o me-1 text-warning","aria-hidden":"true"}),"Pending"]})]})]})]}),Object(Se.jsx)(us,{}),!v&&Object(Se.jsx)(hs,{}),n&&Object(Se.jsx)(xs,{handleClose:function(){return i(!1)},handleAction:function(t){var a=new FormData;a.set("amount",t),e(function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"content-Type":"application/json"}},t.prev=1,a({type:J}),t.next=5,m.a.post("/api/v1/flwpayment/process",e,c);case 5:s=t.sent,r=s.data,a({type:V,payload:r.data.link}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:z,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(a))},loading:p})]})},vs=function(){return Object(Se.jsx)("div",{className:"sidebar-wrapper",children:Object(Se.jsx)("nav",{id:"sidebar",children:Object(Se.jsxs)("ul",{className:"list-unstyled components",children:[Object(Se.jsx)("li",{children:Object(Se.jsxs)(i.b,{to:"/dashboard",children:[Object(Se.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(Se.jsxs)("li",{children:[Object(Se.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(Se.jsx)("i",{className:"fa fa-product-hunt"})," Products "]}),Object(Se.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(Se.jsx)("li",{children:Object(Se.jsxs)(i.b,{to:"/admin/products",children:[Object(Se.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(Se.jsx)("li",{children:Object(Se.jsxs)(i.b,{to:"/admin/product",children:[Object(Se.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(Se.jsx)("li",{children:Object(Se.jsxs)(i.b,{to:"/admin/orders",children:[Object(Se.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(Se.jsx)("li",{children:Object(Se.jsxs)(i.b,{to:"/admin/users",children:[Object(Se.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(Se.jsx)("li",{children:Object(Se.jsxs)(i.b,{to:"/admin/reviews",children:[Object(Se.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},gs=function(e){var t=e.history,a=Object(d.d)(),c=Object(o.useDispatch)(),r=Object(o.useSelector)((function(e){return e.allUsers})),n=r.loading,l=r.error,b=r.users,O=Object(o.useSelector)((function(e){return e.user})).isDeleted;Object(s.useEffect)((function(){c(function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ie}),e.next=4,m.a.get("/api/v1/admin/users");case 4:a=e.sent,c=a.data,t({type:le,payload:c.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:oe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),l&&(a.error(l),c(Ne())),O&&(a.success("User deleted successfully"),t.push("/admin/users"),c({type:re}))}),[c,a,l,t,O]);var p=function(e){c(function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ce}),t.next=4,m.a.delete("/api/v1/admin/user/".concat(e));case 4:c=t.sent,s=c.data,a({type:se,payload:s.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ne,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"All Users"}),Object(Se.jsxs)("div",{className:"row",children:[Object(Se.jsx)("div",{className:"col-l2 col-md-2",children:Object(Se.jsx)(vs,{})}),Object(Se.jsx)("div",{className:"col-12 col-md-10",children:Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)("h1",{className:"my-5",children:"All Users"}),n?Object(Se.jsx)("loader",{}):Object(Se.jsx)(Bc.c,{data:function(){var e={columns:[{label:"User ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return b.forEach((function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(i.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(Se.jsx)("i",{className:"fa fa-pencil"})}),Object(Se.jsx)("button",{className:"btn btn-danger py-1 px2 ml-2",onClick:function(){return p(t._id)},children:Object(Se.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},ys=function(e){var t=e.match,a=e.history,c=Object(s.useState)(""),r=Object(_e.a)(c,2),n=r[0],i=r[1],l=Object(s.useState)(""),b=Object(_e.a)(l,2),O=b[0],p=b[1],h=Object(s.useState)(""),x=Object(_e.a)(h,2),f=x[0],v=x[1],g=Object(d.d)(),y=Object(o.useDispatch)(),N=Object(o.useSelector)((function(e){return e.userDetails})).user,S=Object(o.useSelector)((function(e){return e.user})),w=S.error,E=S.isUpdated,k=t.params.id;Object(s.useEffect)((function(){var e;N&&N._id!==k?y((e=k,function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:de}),t.next=4,m.a.get("/api/v1/admin/user/".concat(e));case 4:c=t.sent,s=c.data,a({type:je,payload:s.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ue,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(i(N.name),p(N.email),v(N.role)),w&&(g.error(w),y(Ne())),E&&(g.success("User updated successfully"),y(ye()),a.push("/admin/users"),y({type:te}))}),[y,N,g,w,t,a,E,k]);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Update User"}),Object(Se.jsxs)("div",{className:"row",children:[Object(Se.jsx)("div",{className:"col-l2 col-md-2",children:Object(Se.jsx)(vs,{})}),Object(Se.jsx)("div",{className:"col-12 col-md-10",children:Object(Se.jsx)(s.Fragment,{children:Object(Se.jsx)("div",{class:"row wrapper",children:Object(Se.jsx)("div",{class:"col-10 col-lg-5",children:Object(Se.jsxs)("form",{class:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",n),t.set("email",O),t.set("role",f),y(ye(N._id,t))},children:[Object(Se.jsx)("h1",{class:"mt-2 mb-5",children:"Update User"}),Object(Se.jsxs)("div",{class:"form-group",children:[Object(Se.jsx)("label",{for:"name_field",children:"Name"}),Object(Se.jsx)("input",{type:"name",id:"name_field",class:"form-control",name:"name",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(Se.jsxs)("div",{class:"form-group",children:[Object(Se.jsx)("label",{for:"email_field",children:"Email"}),Object(Se.jsx)("input",{type:"email",id:"email_field",class:"form-control",name:"email",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(Se.jsxs)("div",{class:"form-group",children:[Object(Se.jsx)("label",{for:"role_field",children:"Role"}),Object(Se.jsxs)("select",{id:"role_field",class:"form-control",name:"role",value:f,onChange:function(e){return v(e.target.value)},children:[Object(Se.jsx)("option",{value:"user",children:"user"}),Object(Se.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(Se.jsx)("button",{type:"submit",class:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})})})]})]})},Ns=function(){var e=Object(s.useState)(""),t=Object(_e.a)(e,2),a=t[0],c=t[1],r=Object(d.d)(),n=Object(o.useDispatch)(),i=Object(o.useSelector)((function(e){return e.productReviews})),l=i.error,b=i.reviews,O=Object(o.useSelector)((function(e){return e.review})).isDeleted;Object(s.useEffect)((function(){l&&(r.error(l),n($a())),O&&(r.success("Review deleted successfully"),n({type:Ma})),""!==a&&n(Va(a))}),[n,r,l,a,O]);var p=function(e){n(function(e,t){return function(){var a=Object(u.a)(Object(j.a)().mark((function a(c){var s,r;return Object(j.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:Fa}),a.next=4,m.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:s=a.sent,r=s.data,c({type:Wa,payload:r.success}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),c({type:Ka,payload:a.t0.response.data.errMessage});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(e,a))};return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"All Users"}),Object(Se.jsxs)("div",{className:"row",children:[Object(Se.jsx)("div",{className:"col-l2 col-md-2",children:Object(Se.jsx)(vs,{})}),Object(Se.jsx)("div",{className:"col-12 col-md-10",children:Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)("div",{className:"row justify-content-center mt-5",children:Object(Se.jsx)("div",{className:"col-5",children:Object(Se.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(Va(a))},children:[Object(Se.jsxs)("div",{className:"form-group",children:[Object(Se.jsx)("label",{for:"productId_field",children:"Enter Product ID"}),Object(Se.jsx)("input",{type:"text",id:"email_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(Se.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",children:"SEARCH"})]})})}),b&&b.length>0?Object(Se.jsx)(Bc.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return b.forEach((function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object(Se.jsx)("button",{className:"btn btn-danger py-1 px2 ml-2",onClick:function(){return p(t._id)},children:Object(Se.jsx)("i",{className:"fa fa-trash"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object(Se.jsx)("p",{className:"mt-5 text-center",children:"No Reviews"})]})})]})]})},Ss=function(e){var t=e.description,a=e._id,c=e.escrow,s=e.workers,r=e.getColor,n=e.updateEscrow,i=e.getButtonText,l=e.getStatusUpdate,o=e.loading,d="Pending"===s[0].escrow.worker||"Finished"===s[0].escrow.worker&&"Confirmed"!==c.user?"":"d-none",j={taskId:a,workerId:s[0]._id,status:l(i(s[0].escrow.worker))};return Object(Se.jsxs)("div",{className:"row bg-secondary-4 mb-1 mx-0 py-1",children:[Object(Se.jsx)("div",{className:" col-3 text-center my-auto",children:Object(Se.jsx)("div",{className:"avatar",children:Object(Se.jsx)("img",{src:s[0].worker.owner.avatar.url,alt:""})})}),Object(Se.jsxs)("div",{className:"col-6 py-2 gx-1 my-auto",children:[Object(Se.jsx)("h5",{className:"mb-0",children:Object(Se.jsx)("small",{children:"".concat(s[0].worker.owner.firstName," ").concat(s[0].worker.owner.lastName)})}),Object(Se.jsx)("p",{className:"mb-0 lh-sm fw-light",children:Object(Se.jsx)("small",{children:"Work Order: ".concat(t)})}),Object(Se.jsxs)("p",{className:"mb-0 fw-light",children:[Object(Se.jsx)("em",{children:Object(Se.jsx)("small",{children:s[0].escrow.worker})}),Object(Se.jsx)("i",{className:"fa fa-circle ps-1 ".concat(r(s[0].escrow.worker)),style:{fontSize:"10px"},"aria-hidden":"true"})]})]}),Object(Se.jsx)("div",{className:"col-3 text-center my-auto",children:Object(Se.jsx)("button",{type:"button",className:"btn btn-sm p-sm-2 px-sm-3 ".concat(o?"loading":""," ").concat(d," ").concat("Pending"===c.worker?"bg-dark-3":"bg-primary-1"," rounded-3"),onClick:function(){return n(j)},children:"".concat(i(s[0].escrow.worker))})})]})};Ss.defaultProps={description:"Default Title",status:"Pending",artisan:{firstName:"Smart",lastName:"Walker",avatar:{url:"".concat(window.location.origin,"/images/avatar.png")}}};var ws=function(){var e=Object(d.d)(),t=Object(o.useDispatch)(),a=Object(o.useSelector)((function(e){return e.myTasks})),r=a.tasks,n=a.loading,i=Object(o.useSelector)((function(e){return e.singleTask})),l=i.error,j=i.isUpdated,u=function(e){return"In Progress"===e?"text-primary-1":"Canceled"===e?"text-danger":"Finished"===e?"text-orange":"Completed"===e?"text-success":"text-dark-3"},b=function(e){return"Canceled"===e?"Report":"Pending"===e?"Cancel":"Approve"},m=function(e){switch(e){case"Cancel":return"Cancelled";case"Approve":return"Completed";case"Accept":return"In Progress";case"Abandon":return"Abandoned";default:return e}},O=function(e){t(Ot(e))};return Object(s.useEffect)((function(){l&&(e.error(l),t(ht())),j&&(e.success("Task Updated"),t({type:Xe})),t(jt())}),[e,t,j,l]),Object(Se.jsx)(s.Fragment,{children:Object(Se.jsxs)("div",{className:"list-group m-2",children:[Object(Se.jsxs)("div",{className:"d-flex list-group-item bg-primary-1 mb-1 align-items-center",children:[Object(Se.jsx)("h3",{className:"my-auto",children:"Job Orders"}),Object(Se.jsx)("span",{className:"ms-auto me-1",children:Object(Se.jsx)("i",{className:"fa fa-sliders fa-lg","aria-hidden":"true"})})]}),r&&r.map((function(e){return e.workers.length>0&&Object(Se.jsx)(Ss,Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},e.workers[0].worker),e.workers[0]),e),{},{getColor:u,updateEscrow:O,getButtonText:b,getStatusUpdate:m,loading:n}),e._id)}))]})})},Es=function(){var e=Object(l.useLocation)().state;return Object(Se.jsx)("section",{children:Object(Se.jsxs)("div",{class:"list-group m-3 list-group-flush",children:[Object(Se.jsx)("div",{class:"list-group-item",children:Object(Se.jsx)("h4",{children:e.title})}),Object(Se.jsxs)("div",{class:"list-group-item",children:[Object(Se.jsx)("p",{class:"mb-2 3w-normal",children:"Performed By"}),Object(Se.jsxs)("span",{class:"d-flex",children:[Object(Se.jsx)("i",{class:"fa fa-user-circle text-primary-1 my-auto pe-3","aria-hidden":"true"}),Object(Se.jsx)("h6",{class:"col mb-0 text-uppercase",children:"".concat(e.artisan.firstName," ").concat(e.artisan.lastName)})]})]}),Object(Se.jsxs)("div",{class:"list-group-item",children:[Object(Se.jsx)("p",{class:"mb-2 fw-normal",children:"Task location"}),Object(Se.jsxs)("span",{class:"d-flex",children:[Object(Se.jsx)("i",{class:"fa fa-map-marker text-primary-1 my-auto pe-3","aria-hidden":"true"}),Object(Se.jsx)("h6",{class:"col mb-0",children:e.location})]})]}),Object(Se.jsxs)("div",{class:"list-group-item",children:[Object(Se.jsx)("p",{class:"mb-2 fw-normal",children:"Duration"}),Object(Se.jsxs)("span",{class:"d-flex",children:[Object(Se.jsx)("i",{class:"fa fa-clock-o text-primary-1 my-auto pe-3","aria-hidden":"true"}),Object(Se.jsx)("h6",{class:"col mb-0",children:e.duration})]})]}),Object(Se.jsxs)("div",{class:"list-group-item",children:[Object(Se.jsx)("p",{class:"mb-2 fw-normal",children:"Billing Format"}),Object(Se.jsxs)("span",{class:"d-flex",children:[Object(Se.jsx)("i",{class:"d-none fa fa-clock-o text-primary-1 my-auto pe-3","aria-hidden":"true"}),Object(Se.jsx)("h6",{class:"col mb-0",children:"Hourly"})]})]}),Object(Se.jsxs)("div",{class:"list-group-item",children:[Object(Se.jsx)("p",{class:"mb-2 fw-normal",children:"Amount"}),Object(Se.jsxs)("span",{class:"d-flex",children:[Object(Se.jsx)("i",{class:"fa fa-money text-primary-1 my-auto pe-3","aria-hidden":"true"}),Object(Se.jsx)("h6",{class:"col mb-0",children:"4,000.00"})]})]}),Object(Se.jsxs)("div",{class:"list-group-item",children:[Object(Se.jsx)("p",{class:"mb-2 fw-normal",children:"Status"}),Object(Se.jsxs)("span",{class:"d-flex",children:[Object(Se.jsx)("i",{class:"fa fa-hourglass text-primary-1 my-auto pe-3","aria-hidden":"true"}),Object(Se.jsx)("h6",{class:"col mb-0",children:e.escrow.artisan})]})]}),Object(Se.jsx)("div",{class:"col-3 text-center my-auto py-3",children:Object(Se.jsx)("button",{type:"button",class:"btn bg-primary-1 px-4 rounded-3",children:"Stop"})})]})})},ks=function(e){var t=e.history,a=Object(d.d)(),r=Object(o.useDispatch)(),n=Object(s.useState)({bio:"",billingFormat:"",billingAmount:0,serviceTags:[],category:""}),i=Object(_e.a)(n,2),l=i[0],b=i[1],O=Object(o.useSelector)((function(e){return e.worker})),p=O.error,h=O.loading,x=O.workerCreated,f=Object(s.useState)(""),v=Object(_e.a)(f,2),g=v[0],y=v[1],N=Object(s.useState)(""),S=Object(_e.a)(N,2),w=S[0],E=S[1];Object(s.useEffect)((function(){p&&(a.error(p),r(pa())),x&&(a.success("REQUEST SUBMITTED"),r({type:ja}),t.goBack())}),[r,a,p,x,t]),Object(s.useEffect)((function(){r(function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:$t}),e.next=4,m.a.get("/api/v1/workers/setup");case 4:a=e.sent,c=a.data,t({type:zt,payload:c.setup}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Xt,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var k=[{key:"makeup",name:"Make-up Artist"},{key:"carpenter",name:"Carpenter"},{key:"electrician",name:"Electrician"},{key:"mc",name:"MC (Master of Ceremony)"},{key:"housekeep",name:"House Keeper"},{key:"nanny",name:"Nanny"}],_=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(E(t.result),y(t.result))},t.readAsDataURL(e.target.files[0])}else b((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(Ue.a)({},e.target.name,e.target.value))}))};return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Create Worker Profile"}),Object(Se.jsx)("section",{className:"center-screen tile",children:Object(Se.jsx)("div",{className:"auth",children:Object(Se.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=k.filter((function(e){return e.key===l.category})),a=new FormData;a.set("avatar",g),a.set("bio",l.bio),a.set("billingFormat",l.billingFormat),a.set("billingAmount",l.billingAmount),a.set("serviceTags",l.serviceTags),a.set("category",JSON.stringify(t[0])),r(ba(a))},encType:"multipart/form-data",children:[Object(Se.jsx)("div",{class:"position-relative",children:Object(Se.jsx)("div",{class:"avatar-preview",children:Object(Se.jsx)("img",{class:"rounded-circle w-100 mx-auto",src:w,alt:"Avatar Preview"})})}),Object(Se.jsx)("h3",{class:"py-4 text-start",children:"Create Worker Profile"}),Object(Se.jsx)("div",{class:"progress mb-3 rounded-pill",children:Object(Se.jsx)("div",{class:"progress-bar bg-primary-2 rounded-pill",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"})}),Object(Se.jsx)("div",{class:"mb-3",children:Object(Se.jsx)("input",{name:"avatar",type:"file",class:"form-control",src:g,id:"avatar",onChange:_})}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsx)("label",{for:"category",class:"form-label",children:"Category"}),Object(Se.jsxs)("select",{class:"form-select","aria-label":"Select category",required:!0,name:"category",value:l.category,onChange:_,children:[Object(Se.jsx)("option",{selected:!0,children:"select"}),k.map((function(e){return Object(Se.jsx)("option",{value:e.key,children:e.name})}))]})]}),Object(Se.jsxs)("div",{class:"mb-3",children:[Object(Se.jsxs)("span",{children:[Object(Se.jsx)("label",{for:"lastName",class:"form-label",children:"Per Job Rate (least amount)"}),Object(Se.jsx)("input",{name:"billingAmount",type:"billingAmount",required:!0,class:"form-control",id:"amount",placeholder:"amount",value:l.billingAmount,onChange:_})]}),Object(Se.jsxs)("span",{children:[Object(Se.jsx)("label",{for:"lastName",class:"form-label",children:"Format"}),Object(Se.jsxs)("select",{class:"form-select","aria-label":"Select Option",required:!0,name:"billingFormat",value:l.billingFormat,onChange:_,children:[Object(Se.jsx)("option",{selected:!0,children:"select"}),["Hourly","Daily","Contract"].map((function(e){return Object(Se.jsx)("option",{value:e,children:e})}))]})]})]}),Object(Se.jsx)("div",{class:"mb-3 text-end",children:Object(Se.jsx)("button",{type:"submit",class:"btn bg-primary-1 px-3 ".concat(h?"loading":""),children:"Send"})})]})})})]})},_s=a(82),Cs=a.n(_s),Rs=Object(s.createContext)(),As=function(){var e,t,a=Object(s.useContext)(Rs),r=a.handleClose,n=a.show,i=a.description,l=a.setDescription,o=a.location,d=a.setLocation,j=a.towns,u=a.loading,b=a.pricing,m=a.submitRequest,O=function(e,t){return d((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(Ue.a)({},t,e))}))};return Object(Se.jsxs)(zc.a,{show:n,onHide:r,backdrop:"static",keyboard:!1,children:[Object(Se.jsxs)(zc.a.Header,{children:[Object(Se.jsx)(zc.a.Title,{children:"Work Order"}),Object(Se.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:r})]}),Object(Se.jsxs)(zc.a.Body,{children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"workOder",className:"form-label",children:"What I\u2019m I doing for you?"}),Object(Se.jsx)("textarea",{className:"form-control",id:"workOder",name:"description",value:i,onChange:function(e){return l(e.target.value)},rows:"3"}),Object(Se.jsxs)("ul",{className:"card-text d-flex flex-wrap list-unstyled text-center",children:[Object(Se.jsx)("li",{className:"col mt-1 me-1 px-2 text-nowrap",style:{maxWidth:"fit-content"},children:"Suggestion:"}),Object(Se.jsx)("li",{className:"badge border rounded-pill col mt-1 me-1 text-muted text-nowrap",style:{maxWidth:"fit-content"},children:"Dispatch Job"}),Object(Se.jsx)("li",{className:"badge border rounded-pill col mt-1 me-1 text-muted text-nowrap",style:{maxWidth:"fit-content"},children:"Errands Job"}),Object(Se.jsx)("li",{className:"badge border rounded-pill col mt-1 me-1 text-muted text-nowrap",style:{maxWidth:"fit-content"},children:"Delivery Job"}),Object(Se.jsx)("li",{className:"badge border rounded-pill col mt-1 me-1 text-muted text-nowrap",style:{maxWidth:"fit-content"},children:"Pick-up Job"})]})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"location",className:"form-label",children:"Where I\u2019m I performing the job?"}),Object(Se.jsxs)("div",{className:"input",children:[j&&Object(Se.jsx)(ft,{suggestions:j,itemSelected:O,value:o.town,name:"town",placeholder:"Location",onChange:O}),Object(Se.jsx)("span",{className:"text-secondary",children:" | ".concat(null===o||void 0===o||null===(e=o.lga)||void 0===e?void 0:e.name,", ").concat(null===o||void 0===o||null===(t=o.state)||void 0===t?void 0:t.name," State.")})]})]}),Object(Se.jsxs)("div",{className:"mb-3 attention",children:[Object(Se.jsx)("h5",{children:"ATTENTION"}),Object(Se.jsxs)("ul",{children:[Object(Se.jsxs)("li",{children:[cs(b.minRate)," is my minimum charge per job"]}),Object(Se.jsxs)("li",{children:["I charge ",cs(b.dailyRate)," for full day jobs "]}),Object(Se.jsx)("li",{children:"Other payment arrangements are negotiable"})]})]})]}),Object(Se.jsxs)(zc.a.Footer,{children:[Object(Se.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Cancel"}),Object(Se.jsx)("button",{type:"button",className:"btn bg-primary-1 ".concat(u&&"loading"),onClick:m,children:"Send Request"})]})]})},Ts=function(e){var t,a,c,r,n,l,b,O,p,h,x=e.match,f=e.history,v=Object(s.useState)(!1),g=Object(_e.a)(v,2),y=g[0],N=g[1],S=function(){return N(!0)},w=function(){return N(!1)},E=Object(d.d)(),k=Object(o.useDispatch)(),_=Object(o.useSelector)((function(e){return e.workerDetails})),C=_.loading,R=_.worker,A=_.error,T=Object(o.useSelector)((function(e){return e.taskRequest})),D=T.error,I=T.success,U=T.loading;Object(s.useEffect)((function(){var e;A&&(E.error(A),f.push("/"),k(pa())),D&&(E.error(D),k(pa()),w()),I&&(E.success("Request sent successfully"),w(),k({type:qe})),k((e=x.params.id,function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:aa}),t.next=4,m.a.get("/api/v1/worker/".concat(e));case 4:c=t.sent,s=c.data,a({type:ca,payload:s.worker}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:sa,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[k,E,A,I,D,f,x.params.id]);var L=Object(o.useSelector)((function(e){return e.prefs})).towns,P=Object(s.useState)(""),F=Object(_e.a)(P,2),W=F[0],M=F[1],K=Object(s.useState)({state:"",lga:"",town:""}),q=Object(_e.a)(K,2),Q=q[0],G=q[1];Object(s.useEffect)((function(){var e,t,a,c,s,r,n,i;G({state:null===R||void 0===R||null===(e=R.owner)||void 0===e||null===(t=e.contact)||void 0===t||null===(a=t.town)||void 0===a?void 0:a.state,lga:null===R||void 0===R||null===(c=R.owner)||void 0===c||null===(s=c.contact)||void 0===s||null===(r=s.town)||void 0===r?void 0:r.lga,town:null===R||void 0===R||null===(n=R.owner)||void 0===n||null===(i=n.contact)||void 0===i?void 0:i.town})}),[R]),Object(s.useEffect)((function(){null!==Q&&void 0!==Q&&Q.lga&&k(It(Q.lga._id))}),[k,Q.lga]);return Object(Se.jsx)(Rs.Provider,{value:{handleClose:w,show:y,pricing:null===R||void 0===R?void 0:R.pricing,description:W,setDescription:M,location:Q,towns:L,setLocation:G,submitRequest:function(){var e,t={location:{state:Q.state._id,lga:Q.lga._id,town:Q.town.name},description:W,worker:R._id};k((e=t,function(){var t=Object(u.a)(Object(j.a)().mark((function t(a){var c,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Me}),c={headers:{"Content-Type":"application/json"}},t.next=5,m.a.post("/api/v1/task/new",e,c);case 5:s=t.sent,r=s.data,a({type:Ke,payload:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:Qe,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},loading:U},children:Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{title:"Worker Profile"}),C||void 0===C?Object(Se.jsx)(Gt,{}):Object(Se.jsxs)("div",{className:"container-0",children:[Object(Se.jsxs)("div",{className:"rounded-bottom row g-0",children:[Object(Se.jsxs)("div",{className:"col-12 col-md-7",children:[Object(Se.jsx)("div",{className:"featured-graphics",children:Object(Se.jsx)("img",{src:(null===(t=R.featuredGraphics)||void 0===t?void 0:t.url)||"".concat(window.location.origin,"/images/featured.png"),alt:"featured Graphics"})}),Object(Se.jsx)("div",{className:"featured-graphics-avatar",children:Object(Se.jsx)("img",{src:R.owner.avatar.url,name:"avatar",alt:"".concat(R.displayName,"_Photo")})}),Object(Se.jsx)("div",{className:"card-body featured-heading",style:{width:"fit-content"},children:Object(Se.jsxs)("div",{className:"row my-auto",children:[Object(Se.jsxs)("h5",{className:"card-title text-primary-1 col-12 mb-2",children:["".concat(R.owner.firstName," ").concat(R.owner.lastName),Object(Se.jsx)("span",{className:"text-dark-2",children:" | ".concat(R.category.name)})]}),Object(Se.jsxs)("div",{className:"d-flex mb-2",children:[Object(Se.jsx)("i",{className:"fa fa-map-marker me-2 my-auto","aria-hidden":"true"}),Object(Se.jsx)("p",{className:"card-text col mb-0",children:"".concat(null===(a=R.owner)||void 0===a||null===(c=a.contact)||void 0===c?void 0:c.address,", ").concat(null===(r=R.owner)||void 0===r||null===(n=r.contact)||void 0===n||null===(l=n.town)||void 0===l?void 0:l.name,", ").concat(null===(b=R.owner)||void 0===b||null===(O=b.contact)||void 0===O||null===(p=O.town)||void 0===p||null===(h=p.lga)||void 0===h?void 0:h.name)})]}),Object(Se.jsxs)("div",{className:"d-flex mb-2",children:[Object(Se.jsx)("i",{className:"fa fa-phone me-2 my-auto","aria-hidden":"true"}),Object(Se.jsx)("p",{className:"card-text col mb-0",children:"0".concat(R.owner.phoneNumber)})]}),Object(Se.jsx)("span",{className:"col",children:Object(Se.jsx)("button",{type:"button",className:"btn btn-sm bg-primary-2 px-4 px-md-3 py-md-1 text-white rounded-pill",onClick:S,children:Object(Se.jsx)("strong",{children:"Engage"})})})]})})]}),Object(Se.jsxs)("div",{className:"col-12 col-md-5",children:[Object(Se.jsx)("div",{className:"card-body pt-md-0 pe-md-0",children:Object(Se.jsxs)("ul",{className:"list-group",children:[Object(Se.jsx)("li",{className:"list-group-item active",children:"Highights"}),Object(Se.jsxs)("li",{className:"d-flex list-group-item ",children:[Object(Se.jsx)("div",{className:"col",children:"Joined Since"}),Object(Se.jsx)("div",{className:"col",children:Cs()(R.createdAt,"dS mmm, yyyy")})]}),Object(Se.jsxs)("li",{className:"d-flex list-group-item ",children:[Object(Se.jsx)("div",{className:"col",children:"Status"}),Object(Se.jsx)("div",{className:"col",children:R.availability})]}),Object(Se.jsxs)("li",{className:"d-flex list-group-item ",children:[Object(Se.jsx)("div",{className:"col",children:"KYC"}),Object(Se.jsxs)("div",{className:"col",children:[R.status,Object(Se.jsx)("i",{className:"fa fa-check-circle text-success ms-1","aria-hidden":"true"})]})]}),Object(Se.jsxs)("li",{className:"d-flex list-group-item ",children:[Object(Se.jsx)("div",{className:"col",children:"Pricing"}),Object(Se.jsx)("div",{className:"col",children:"".concat(cs(R.pricing.minRate)," Per Job")})]}),Object(Se.jsxs)("li",{className:"d-flex list-group-item ",children:[Object(Se.jsx)("div",{className:"col",children:"Rating"}),Object(Se.jsxs)("div",{className:"col",children:[Object(Se.jsx)("i",{className:"fa fa-star text-primary-1 me-1","aria-hidden":"true"}),"4.7 Rating (483)"]})]})]})}),Object(Se.jsx)("div",{className:"card-body",children:Object(Se.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(Se.jsx)("li",{className:"list-group-item",children:Object(Se.jsx)("strong",{children:"RECENT REVIEWS"})}),Object(Se.jsxs)("li",{className:"list-group-item",children:[Object(Se.jsxs)("span",{className:"col",children:[Object(Se.jsx)("strong",{children:"Dennis Igwe"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"})]}),Object(Se.jsx)("p",{className:"col",children:"Rebecca is simply amazing, she\u2019s what I think of whenever I want to get something done on time"})]}),Object(Se.jsxs)("li",{className:"list-group-item",children:[Object(Se.jsxs)("span",{className:"col",children:[Object(Se.jsx)("strong",{children:"Okafor Martins"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"})]}),Object(Se.jsx)("p",{className:"col",children:"This is demn fast, he got the job done about 3 times faster than I thought."})]}),Object(Se.jsxs)("li",{className:"list-group-item",children:[Object(Se.jsxs)("span",{className:"col",children:[Object(Se.jsx)("strong",{children:"Jennifer Austin"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star text-primary-1","aria-hidden":"true"}),Object(Se.jsx)("i",{className:"fa fa-star-half text-primary-1","aria-hidden":"true"})]}),Object(Se.jsx)("p",{className:"col",children:"It was nice working with you, but you should work on your appearance - it\u2019s not professional"})]}),Object(Se.jsx)("li",{className:"list-group-item text-end mb-3 border-0",children:Object(Se.jsx)(i.b,{to:"#",children:"More"})}),Object(Se.jsx)("button",{type:"button",className:"btn bg-primary-2 text-white",onClick:S,children:Object(Se.jsx)("strong",{children:"Engage"})})]})})]})]}),Object(Se.jsx)(As,{})]})]})})},Ds=function(e){var t=e._id,a=e.getColor,c=e.escrow,s=e.firstName,r=e.lastName,n=e.avatar,i=e.updateEscrow,l=e.loading,o=(e.getButtonText,e.getStatusUpdate,"Accepted Declined Completed Abandoned".includes(c.worker)||"Cancelled"===c.user),d="Pending Accepted".includes(c.worker)&&"Cancelled"!==c.user,j="Cancelled"===c.user?c.user:"Accepted"===c.worker?"In progress":c.worker,u=function(e){return i({status:e,taskId:t})};return Object(Se.jsxs)("div",{className:"row bg-secondary-4 mb-1 mx-0",children:[Object(Se.jsx)("div",{className:" col-3 text-center my-auto",children:Object(Se.jsx)("div",{className:"avatar",children:Object(Se.jsx)("img",{src:n.url,alt:""})})}),Object(Se.jsxs)("div",{className:"col-9 py-1 gx-1 my-auto",children:[Object(Se.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(Se.jsx)("h5",{className:"mb-0",children:Object(Se.jsx)("small",{children:"".concat(s," ").concat(r)})}),Object(Se.jsx)("div",{className:"ms-2",children:Object(Se.jsx)("i",{className:"fa fa-phone my-auto text-primary-1","aria-hidden":"true"})}),Object(Se.jsx)("span",{className:"ms-auto badge text-dark fst-italic my-auto fw-normal",children:"5 mins ago"})]}),Object(Se.jsx)("p",{className:"mb-0 lh-sm fw-light",children:Object(Se.jsx)("small",{children:"Request to perform electrical bulb installation and wall socket installation"})}),Object(Se.jsxs)("div",{className:"d-flex",children:[o&&Object(Se.jsxs)("p",{className:"mb-0 me-auto fw-light",children:[Object(Se.jsx)("em",{children:Object(Se.jsx)("small",{children:j})}),Object(Se.jsx)("i",{className:"fa fa-circle ps-1 ".concat(a(c.worker)),style:{fontSize:"10px"},"aria-hidden":"true"})]}),d&&Object(Se.jsxs)("div",{className:"mt-1",children:[Object(Se.jsxs)("button",{type:"button",disabled:l,className:"btn btn-sm p-sm-2 px-sm-3 me-1 accept ".concat(l?"loading":""),onClick:function(){return u("Pending"===c.worker?"Accepted":"Completed")},children:[" ","Pending"===c.worker?"Accept":"Completed"]}),Object(Se.jsxs)("button",{type:"button",disabled:l,className:"btn btn-sm p-sm-2 px-sm-3 me-1 decline ".concat(l?"loading":""),onClick:function(){return u("Pending"===c.worker?"Declined":"Abandoned")},children:[" ","Pending"===c.worker?"Decline":"Abandon"]})]})]})]})]})};Ds.defaultProps={title:"Default Title",status:"Pending",artisan:{firstName:"Smart",lastName:"Walker",avatar:{url:"".concat(window.location.origin,"/images/avatar.png")}}};var Is=function(){var e=Object(d.d)(),t=Object(o.useDispatch)(),a=Object(l.useHistory)(),r=Object(o.useSelector)((function(e){return e.myTasks})),n=r.works,i=r.loading,j=Object(o.useSelector)((function(e){return e.singleTask})),u=j.error,b=j.isUpdated,m=function(e){return"In Progress"===e?"text-primary-1":"Canceled"===e?"text-danger":"Finished"===e?"text-orange":"Completed"===e?"text-success":"text-dark-3"},O=function(e){return"Canceled"===e?"Report":"Pending"===e?"Cancel":"Approve"},p=function(e){switch(e){case"Cancel":return"Cancelled";case"Approve":return"Confirmed";case"Accept":return"In Progress";case"Abandon":return"Abandoned";default:return e}},h=function(e){e.role="worker",t(Ot(e))};return Object(s.useEffect)((function(){u&&(e.error(u),t(ht())),b&&(e.success("Task Updated"),t({type:Xe})),t(ut())}),[e,t,b,u]),Object(Se.jsx)(s.Fragment,{children:Object(Se.jsxs)("div",{className:"list-group m-2",children:[Object(Se.jsxs)("div",{className:"d-flex list-group-item bg-primary-1 mb-1 align-items-center",children:[Object(Se.jsx)("h3",{className:"my-auto",children:"Job Orders"}),Object(Se.jsx)("span",{className:"ms-auto me-1",children:Object(Se.jsx)("i",{className:"fa fa-sliders fa-lg","aria-hidden":"true"})})]}),n&&n.map((function(e){return Object(Se.jsx)(Ds,Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({task:e},e.user),e.worker),e),{},{loading:i,updateEscrow:h,history:a,getColor:m,getStatusUpdate:p,getButtonText:O}),e._id)}))]})})},Us=function(e){var t=e.match,a=Object(s.useState)(1),c=Object(_e.a)(a,2),r=c[0],n=c[1],i=Object(s.useState)(0),l=Object(_e.a)(i,2),j=l[0],u=l[1],b=t.params.name,m=t.params.keyword,O=Object(d.d)(),p=Object(o.useDispatch)(),h=Object(o.useSelector)((function(e){return e.workers})),x=h.loading,f=h.workers,v=h.error,g=h.filteredWorkersCount;return Object(s.useEffect)((function(){if(v)return O.error(v);p(ma(m,r,b,j))}),[p,b,r,j,v,m,O]),Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsx)(Te,{children:b}),Object(Se.jsx)(Ht,{setCurrentPage:n,setRating:u,loading:x,workers:f,count:g})]})},Ls=function(e){var t=e.history;return Object(Se.jsx)("div",{className:"tabs",children:Object(Se.jsx)("ul",{className:"tabs-list",children:["Profile","Contact","Password","Worker"].map((function(e){var a="/account/".concat(e.toLocaleLowerCase());return Object(Se.jsx)(Fc.Link,{to:a,children:Object(Se.jsx)("li",{className:"tab-item ".concat(a===t.location.pathname&&"item-selected"),children:e})},e)}))})})},Ps=function(){var e=Object(d.d)(),t=Object(Fc.useHistory)(),a=Object(o.useDispatch)(),r=Object(o.useSelector)((function(e){return e.auth})).user,n=Object(o.useSelector)((function(e){return e.user})),i=n.loading,l=n.error,j=n.isUpdated,u=Object(s.useState)({firstName:null===r||void 0===r?void 0:r.firstName,lastName:null===r||void 0===r?void 0:r.lastName,email:null===r||void 0===r?void 0:r.email,phoneNumber:null===r||void 0===r?void 0:r.phoneNumber,gender:null===r||void 0===r?void 0:r.gender}),b=Object(_e.a)(u,2),m=b[0],O=b[1];Object(s.useEffect)((function(){l&&(a(Ne()),e.error(l)),j&&(e.success("Updated Successfully"),a({type:_}),a(fe()))}),[a,e,j,l]);var p=function(e){return O(Object(c.a)(Object(c.a)({},m),{},Object(Ue.a)({},e.target.name,e.target.value)))};return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsxs)("div",{className:"account-breadcrumbs",children:[Object(Se.jsx)("img",{className:"rounded-circle me-2",src:"/images/avatar.png",style:{height:"3em"},alt:""}),Object(Se.jsxs)("div",{className:"breadcrumbs-title",children:[Object(Se.jsxs)("span",{children:[Object(Se.jsx)("strong",{children:"Alfred Ekeuwei"})," / ",Object(Se.jsx)("strong",{children:"Edit Profile"})]}),Object(Se.jsx)("p",{className:"mb-0",children:"Setup your presence and hiring needs"})]})]}),Object(Se.jsx)(Ls,{history:t}),Object(Se.jsxs)("form",{className:"mx-3",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("data",JSON.stringify(m)),a(he(t))},children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),Object(Se.jsx)("input",{type:"name",name:"firstName",className:"form-control",id:"firstName",value:m.firstName,onChange:p})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),Object(Se.jsx)("input",{name:"lastName",type:"name",className:"form-control",id:"lastName",value:m.lastName,onChange:p})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"state",className:"form-label",children:"Gender"}),Object(Se.jsxs)("select",{className:"form-select","aria-label":"Select State",name:"gender",value:m.gender,onChange:p,children:[Object(Se.jsx)("option",{selected:!0,children:"Gender"}),Object(Se.jsx)("option",{value:"Male",children:"Male"}),Object(Se.jsx)("option",{value:"Female",children:"Female"})]})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"number",className:"form-label",children:"Phone Number"}),Object(Se.jsx)("input",{name:"phoneNumber",type:"phone",className:"form-control",id:"number",value:m.phoneNumber,onChange:p})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(Se.jsx)("input",{name:"email",type:"email",className:"form-control",id:"email",value:m.email,onChange:p})]}),Object(Se.jsx)("div",{className:"mb-3 text-center",children:Object(Se.jsx)("button",{disabled:i,type:"submit",className:"btn bg-primary-1 px-3",children:"Save"})})]})]})},Fs=function(){var e,t,a,r,n,i,l=Object(Fc.useHistory)(),j=Object(o.useDispatch)(),u=Object(d.d)(),b=Object(o.useSelector)((function(e){return e.auth})).user,m=Object(o.useSelector)((function(e){return e.user})),O=m.error,p=m.loading,h=m.isUpdated,x=Object(o.useSelector)((function(e){return e.prefs})),f=x.states,v=x.lgas,g=x.towns,y=Object(s.useState)({state:Object(c.a)({},null===b||void 0===b||null===(e=b.contact)||void 0===e||null===(t=e.town)||void 0===t?void 0:t.state),lga:Object(c.a)({},null===b||void 0===b||null===(a=b.contact)||void 0===a||null===(r=a.town)||void 0===r?void 0:r.lga),town:Object(c.a)({},null===b||void 0===b||null===(n=b.contact)||void 0===n?void 0:n.town),address:{name:null===b||void 0===b||null===(i=b.contact)||void 0===i?void 0:i.address}}),N=Object(_e.a)(y,2),S=N[0],w=N[1],E=function(e,t){return w((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(Ue.a)({},t,e))}))},k=function(e,t){return w((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(Ue.a)({},t,e))}))};return Object(s.useEffect)((function(){O&&(j(Ne()),u.error(O)),h&&(u.success("Updated Successfully"),j({type:_}),j(fe()))}),[j,u,h,O]),Object(s.useEffect)((function(){j(Tt())}),[]),Object(s.useEffect)((function(){S.state._id&&j(Dt(S.state._id))}),[j,S.state._id]),Object(s.useEffect)((function(){S.lga._id&&j(It(S.lga._id))}),[j,S.lga._id]),Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsxs)("div",{className:"account-breadcrumbs",children:[Object(Se.jsx)("img",{className:"rounded-circle me-2",src:"/images/avatar.png",style:{height:"3em"},alt:""}),Object(Se.jsxs)("div",{className:"breadcrumbs-title",children:[Object(Se.jsxs)("span",{children:[Object(Se.jsx)("strong",{children:"Alfred Ekeuwei"})," / ",Object(Se.jsx)("strong",{children:"Edit Profile"})]}),Object(Se.jsx)("p",{className:"mb-0",children:"Setup your presence and hiring needs"})]})]}),Object(Se.jsx)(Ls,{history:l}),Object(Se.jsxs)("form",{className:"mx-3",onSubmit:function(e){var t;e.preventDefault(),console.log(S);var a={address:(null===(t=S.address)||void 0===t?void 0:t.name)||S.address,town:S.town.name,lga:S.lga._id,state:S.state._id};if(!Object.values(a).every((function(e){return""!==e&&void 0!==e})))return u.error("All fields must be filled");var c=new FormData;c.set("data",JSON.stringify({contact:a})),j(he(c))},children:[Object(Se.jsx)("div",{className:"input mb-3 ".concat(S.state.name?"":"shake"),children:Object(Se.jsx)(ft,{validateField:!0,value:S.state,name:"state",itemSelected:k,onChange:E,suggestions:f,placeholder:"State"})}),Object(Se.jsx)("div",{className:"input mb-3 ".concat(S.lga.name?"":"shake"),children:Object(Se.jsx)(ft,{validateField:!0,value:S.lga,name:"lga",itemSelected:k,onChange:E,suggestions:v,placeholder:"Lga"})}),Object(Se.jsx)("div",{className:"input mb-3",children:Object(Se.jsx)(ft,{value:S.town,name:"town",itemSelected:k,onChange:E,suggestions:g,placeholder:"Town"})}),Object(Se.jsx)("div",{className:"mb-3",children:Object(Se.jsx)("textarea",{name:"address",className:"input",id:"address",value:S.address.name,onChange:function(e){return E(e.target.value,e.target.name)}})}),Object(Se.jsx)("div",{className:"mb-3 text-center",children:Object(Se.jsx)("button",{disabled:p,type:"submit",className:"btn bg-primary-1 px-3",children:"Save"})})]})]})},Ws=function(){var e=Object(d.d)(),t=Object(Fc.useHistory)(),a=Object(o.useDispatch)(),c=Object(s.useState)(""),r=Object(_e.a)(c,2),n=r[0],i=r[1],l=Object(s.useState)(""),j=Object(_e.a)(l,2),u=j[0],b=j[1],m=Object(s.useState)(""),O=Object(_e.a)(m,2),p=O[0],h=O[1],x=Object(s.useState)(!1),f=Object(_e.a)(x,2),v=f[0],g=f[1];Object(s.useEffect)((function(){g(u===p&&u.length>5)}),[p,u]);var y=Object(o.useSelector)((function(e){return e.user})),N=y.error,S=y.loading,w=y.isUpdated;Object(s.useEffect)((function(){N&&(e.error(N),a(Ne())),w&&(e.success("Password updated successfully"),a({type:T}),i(""),b(""),h(""))}),[a,e,w,N]);return Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsxs)("div",{className:"account-breadcrumbs",children:[Object(Se.jsx)("img",{className:"rounded-circle me-2",src:"/images/avatar.png",style:{height:"3em"},alt:""}),Object(Se.jsxs)("div",{className:"breadcrumbs-title",children:[Object(Se.jsxs)("span",{children:[Object(Se.jsx)("strong",{children:"Alfred Ekeuwei"})," / ",Object(Se.jsx)("strong",{children:"Edit Profile"})]}),Object(Se.jsx)("p",{className:"mb-0",children:"Setup your presence and hiring needs"})]})]}),Object(Se.jsx)(Ls,{history:t}),Object(Se.jsxs)("form",{className:"mx-3",onSubmit:function(e){if(e.preventDefault(),v){var t=new FormData;t.set("oldPassword",n),t.set("password",u),a(xe(t))}},children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"oldPassword",className:"form-label",children:"Current Password"}),Object(Se.jsx)("input",{type:"password",name:"oldPassword",className:"form-control",id:"oldPassword",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"newPassword",className:"form-label",children:"New Password"}),Object(Se.jsx)("input",{name:"newPassword",type:"password",className:"form-control",id:"newPassword",value:u,onChange:function(e){return b(e.target.value)}}),u.length<6&&Object(Se.jsx)("label",{className:"form-label text-secondary",children:"Password must be 6 charaters long"})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsxs)("label",{for:"confirmPassword",className:"form-label",children:["Confirm Password",v&&Object(Se.jsx)("i",{className:"fa fa-check-circle ms-1 text-success","aria-hidden":"true"})]}),Object(Se.jsx)("input",{name:"confirmPassword",type:"password",className:"form-control",id:"confirmPassword",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(Se.jsx)("div",{className:"mb-3 text-center",children:Object(Se.jsx)("button",{disabled:!v||S,type:"submit",className:"btn bg-primary-1 px-3",children:"Change"})})]})]})},Ms=function(e){var t,a=e.worker;return Object(Se.jsxs)("div",{className:"work-profile-list-item",children:[Object(Se.jsx)("span",{children:Object(Se.jsx)("h5",{children:null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.name})}),Object(Se.jsx)("p",{className:"m-0",children:a.description||"Hi there, I\u2019m 16 years old. I run errands and \n        dispatch and I do it with pleasure. I\u2019m very much \n        familiar with the nooks... More"})]})},Ks=function(){var e=Object(o.useDispatch)(),t=Object(Fc.useHistory)(),a=Object(o.useSelector)((function(e){return e.userWorkers})),c=a.workers,r=a.loading,n=a.error;return Object(s.useEffect)((function(){e(function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Zt}),e.next=4,m.a.get("/api/v1/user/workers");case 4:a=e.sent,c=a.data,t({type:ea,payload:c.workers}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:ta,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(Se.jsxs)(s.Fragment,{children:[Object(Se.jsxs)("div",{className:"account-breadcrumbs",children:[Object(Se.jsx)("img",{className:"rounded-circle me-2",src:"/images/avatar.png",style:{height:"3em"},alt:""}),Object(Se.jsxs)("div",{className:"breadcrumbs-title",children:[Object(Se.jsxs)("span",{children:[Object(Se.jsx)("strong",{children:"Alfred Ekeuwei"})," / ",Object(Se.jsx)("strong",{children:"Edit Profile"})]}),Object(Se.jsx)("p",{className:"mb-0",children:"Setup your presence and hiring needs"})]})]}),Object(Se.jsx)(Ls,{history:t}),r?Object(Se.jsx)(Gt,{}):Object(Se.jsx)(Se.Fragment,{children:0===c.length?Object(Se.jsxs)("div",{className:"no-work-profile",children:[Object(Se.jsx)("p",{children:"".concat(n||"You have no work profile")}),Object(Se.jsxs)("button",{className:"btn btn-secondary",onClick:function(){return t.push("/account/worker/create")},children:[Object(Se.jsx)("i",{className:"fa fa-plus me-1","aria-hidden":"true"}),"create work profile"]})]}):Object(Se.jsxs)("div",{className:"work-profile-list",children:[c.map((function(e){return Object(Se.jsx)(Ms,{worker:e})})),Object(Se.jsxs)("button",{className:"btn btn-secondary m-4",onClick:function(){return t.push("/account/worker/create")},children:[Object(Se.jsx)("i",{className:"fa fa-plus me-1","aria-hidden":"true"}),"Add another profile"]})]})})]})},qs=function(e){var t=e.suggestions,a=e.setSuggestions,c=e.myChoices,r=e.setMychoices,n=e.suggestionTitle,i=e.validateField,l=Object(s.useState)({name:""}),o=Object(_e.a)(l,2),d=o[0],j=o[1],u=function(e){var c=e.name;if(i){var s=t.find((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}));c="object"===typeof s&&null!==s}c&&(r((function(t){return[].concat(Object(lc.a)(t),[e])})),a((function(t){return t.filter((function(t){var a,c;return(null===(a=t.name)||void 0===a?void 0:a.toLowerCase())!==(null===(c=e.name)||void 0===c?void 0:c.toLowerCase())}))})))},b=function(e){var t=c.filter((function(t){return t.name.toLowerCase()!==e.name.toLowerCase()}));r(t),a((function(t){return[].concat(Object(lc.a)(t),[e])}))};return Object(Se.jsxs)("div",{className:"category input",children:[c.map((function(e){return Object(Se.jsxs)("div",{className:"category-item",children:[e.name,Object(Se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",onClick:function(){return b(e)}})]},e.name)})),Object(Se.jsx)(ft,{validateField:i,value:d,name:n.toLowerCase(),onChange:function(e,t){return j(e)},itemSelected:function(e,t){u(e),j({name:""})},handleKeyDown:function(e){var t;if(""===e.target.value.trim()&&"Backspace"===e.key&&c.length>0){e.preventDefault();var a=c[c.length-1];j(a),b(a)}"Enter"!==e.key&&""!==e.key.trim()||""===(null===(t=d.name)||void 0===t?void 0:t.trim())||(e.preventDefault(),u(d),j({name:""}))},suggestions:t,placeholder:n})]})},Qs=function(){var e,t=Object(Fc.useHistory)(),a=Object(o.useDispatch)(),r=Object(d.d)(),n=Object(s.useRef)(null),i=Object(s.useRef)(null),l=Object(s.useState)(!1),j=Object(_e.a)(l,2),u=j[0],b=j[1],m=Object(o.useSelector)((function(e){return e.worker})),O=m.error,p=m.loading,h=m.success,x=Object(o.useSelector)((function(e){return e.auth})).user,f=Object(o.useSelector)((function(e){return e.prefs})).towns,v=Object(s.useState)({avatar:(null===x||void 0===x||null===(e=x.avatar)||void 0===e?void 0:e.url)||"".concat(window.location.origin,"/images/default_avatar.jpg"),featured:""}),g=Object(_e.a)(v,2),y=g[0],N=g[1],S=Object(s.useState)({category:"",minRate:"",dailyRate:"",description:""}),w=Object(_e.a)(S,2),E=w[0],k=w[1],_=function(e){if("avatar, featured".includes(e.target.name)){var t=new FileReader;t.onload=function(){2===t.readyState&&N((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(Ue.a)({},e.target.name,t.result))}))},t.readAsDataURL(e.target.files[0])}else"minRate, dailyRate".includes(e.target.name)?k(Object(c.a)(Object(c.a)({},E),{},Object(Ue.a)({},e.target.name,C(e.target.value)))):k(Object(c.a)(Object(c.a)({},E),{},Object(Ue.a)({},e.target.name,e.target.value)))},C=function(e){var t=e.replace(/\D/g,"");return new Intl.NumberFormat("en-US").format(t)},R=[{key:"makeup",name:"Make-up Artist"},{key:"carpenter",name:"Carpenter"},{key:"electrician",name:"Electrician"},{key:"mc",name:"MC (Master of Ceremony)"},{key:"housekeep",name:"House Keeper"},{key:"nanny",name:"Nanny"}];Object(s.useEffect)((function(){return b(y.featured)}),[y.featured]),Object(s.useEffect)((function(){return a(It("647744b487968b971280e108"))}),[a]);var A=Object(s.useState)(f),T=Object(_e.a)(A,2),D=T[0],I=T[1],U=Object(s.useState)([]),L=Object(_e.a)(U,2),P=L[0],F=L[1];return Object(s.useEffect)((function(){O&&(r.error(O),a(pa())),h&&(r.success("Account created!"),a({type:ja}),t.goBack()),f&&I(f)}),[O,h,a,r,t,f]),Object(Se.jsx)(s.Fragment,{children:Object(Se.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=R.filter((function(e){return e.key===E.category})),c=new FormData;c.set("featuredGraphics",y.featured),c.set("category",JSON.stringify(t[0])),c.set("minRate",E.minRate),c.set("dailyRate",E.dailyRate),c.set("localities",JSON.stringify(P)),c.set("description",E.description),a(ba(c))},children:[Object(Se.jsxs)("div",{className:"featured-graphics",children:[Object(Se.jsxs)("div",{className:"featured-graphics-button ".concat(u&&"d-none"),children:[Object(Se.jsx)("input",{className:"d-none",type:"file",ref:n,name:"featured",onChange:_}),Object(Se.jsxs)("button",{className:"btn btn-secondary mx-4",onClick:function(){return n.current.click()},children:[Object(Se.jsx)("i",{className:"fa fa-plus me-1","aria-hidden":"true"}),"Add Display Picture"]})]}),Object(Se.jsx)("img",{src:y.featured,className:"".concat(!u&&"d-none"),alt:"featured Graphics"}),Object(Se.jsx)("div",{className:"clear-btn ".concat(!u&&"d-none"),onClick:function(){return N((function(e){return Object(c.a)(Object(c.a)({},e),{},{featured:""})}))},children:Object(Se.jsx)("i",{className:"fa fa-minus-circle p-2","aria-hidden":"true"})})]}),Object(Se.jsxs)("div",{className:"featured-graphics-avatar",children:[Object(Se.jsx)("input",{className:"d-none",name:"avatar",ref:i,type:"file",onChange:_}),Object(Se.jsx)("img",{src:y.avatar,name:"avatar",onChange:_,alt:""}),Object(Se.jsx)("i",{className:"fa fa-pencil-square-o edit-icon",onClick:function(){return i.current.click()},"aria-hidden":"true"})]}),Object(Se.jsxs)("div",{className:"mx-3 mt-4",children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"category",className:"form-label",children:"Category / Service Type "}),Object(Se.jsxs)("select",{className:"form-select","aria-label":"Select category",required:!0,name:"category",value:E.category,onChange:_,children:[Object(Se.jsx)("option",{selected:!0,children:"select"}),R.map((function(e){return Object(Se.jsx)("option",{value:e.key,children:e.name},e.key)}))]})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"minRate",className:"form-label",children:"Minimum charge for job?"}),Object(Se.jsx)("input",{name:"minRate",type:"text",required:!0,className:"input",id:"minRate",value:E.minRate,onChange:_})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"dailyRate",className:"form-label",children:"Your daily rate?"}),Object(Se.jsx)("input",{name:"dailyRate",type:"text",required:!0,className:"input",id:"dailyRate",value:E.dailyRate,onChange:_})]}),Object(Se.jsx)(qs,{suggestions:D,setSuggestions:I,myChoices:P,setMychoices:F,suggestionTitle:"Localities"}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("label",{for:"description",className:"form-label",children:"Description"}),Object(Se.jsx)("textarea",{type:"text",name:"description",className:"input",id:"description",value:E.description,onChange:_}),Object(Se.jsx)("label",{for:"description",className:"form-label text-secondary",children:"Describe the servies you perform"})]})]}),Object(Se.jsx)("div",{className:"mb-3 text-center",children:Object(Se.jsx)("button",{disabled:p,type:"submit",className:"btn bg-primary-1 px-3",children:"Create Account"})})]})})},Gs=function(e){var t,a,r=e.handleFilter,n=e.loading,i=e.handleClose,l=Object(o.useDispatch)(),d=Object(o.useSelector)((function(e){return e.prefs})),b=d.categories,O=d.states,p=d.lgas,h=d.towns,x=Object(s.useState)(b),f=Object(_e.a)(x,2),v=f[0],g=f[1],y=Object(s.useState)([]),N=Object(_e.a)(y,2),S=N[0],w=N[1],E=Object(s.useState)({state:{name:""},lga:{name:""},town:{name:""}}),k=Object(_e.a)(E,2),_=k[0],C=k[1],R=function(e,t){return C((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(Ue.a)({},t,e))}))};return Object(s.useEffect)((function(){l(Tt()),l(function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var a,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ct}),e.next=4,m.a.get("/api/v1/prefs/categories");case 4:a=e.sent,c=a.data,t({type:Rt,payload:c.categories}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:At,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(s.useEffect)((function(){g(b)}),[b]),Object(s.useEffect)((function(){var e,t;null!==_&&void 0!==_&&null!==(e=_.state)&&void 0!==e&&e._id&&l(Dt(null===_||void 0===_||null===(t=_.state)||void 0===t?void 0:t._id));C((function(e){return Object(c.a)(Object(c.a)({},e),{},{lga:{name:""},town:{name:""}})}))}),[l,null===_||void 0===_||null===(t=_.state)||void 0===t?void 0:t._id]),Object(s.useEffect)((function(){var e;_.lga._id&&l(It(null===_||void 0===_||null===(e=_.lga)||void 0===e?void 0:e._id));C((function(e){return Object(c.a)(Object(c.a)({},e),{},{town:{name:""}})}))}),[l,null===(a=_.lga)||void 0===a?void 0:a._id]),Object(Se.jsx)("div",{className:"modal--overlay",children:Object(Se.jsx)("div",{className:"modal-",children:Object(Se.jsxs)("div",{className:"filter",children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("h5",{children:"Category"}),Object(Se.jsx)(qs,{suggestions:v,setSuggestions:g,myChoices:S,setMychoices:w,suggestionTitle:"Categories",validateField:!0})]}),Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("h5",{children:"Location"}),Object(Se.jsx)("div",{className:"input mb-2",children:Object(Se.jsx)(ft,{validateField:!0,value:_.state,name:"state",itemSelected:R,onChange:R,suggestions:O,placeholder:"State"})}),Object(Se.jsx)("div",{className:"input mb-2",children:Object(Se.jsx)(ft,{validateField:!0,value:_.lga,name:"lga",itemSelected:R,onChange:R,suggestions:p,placeholder:"LGA"})}),Object(Se.jsx)("div",{className:"input mb-2",children:Object(Se.jsx)(ft,{validateField:!0,value:_.town,name:"town",itemSelected:R,onChange:R,suggestions:h,placeholder:"Town"})})]}),Object(Se.jsxs)("div",{className:"d-flex",children:[Object(Se.jsx)("button",{className:"btn me-1 bg-dark-3",onClick:i,children:"Cancel"}),Object(Se.jsx)("button",{className:"btn bg-primary-1 ".concat(n?"loading":""),onClick:function(){r({categories:b,location:{state:_.state._id,lga:_.lga._id,name:_.town.name}})},children:"Apply filter"})]})]})})})},Hs=function(){var e=Object(o.useDispatch)(),t=Object(o.useSelector)((function(e){return e.myTasks})),a=t.loading,c=t.nearbyTasks,r=Object(o.useSelector)((function(e){return e.auth})).user,n=Object(s.useState)(!1),i=Object(_e.a)(n,2),l=i[0],d=i[1],j=function(){return d(!1)};return Object(s.useEffect)((function(){var t,a,c;e(bt({location:{lga:null===r||void 0===r||null===(t=r.contact)||void 0===t||null===(a=t.town)||void 0===a||null===(c=a.lga)||void 0===c?void 0:c._id}}))}),[e,r.contact]),Object(Se.jsxs)("div",{className:"nearby-tasks ".concat(a&&"loading"),children:[Object(Se.jsxs)("div",{className:"heading-link",children:[Object(Se.jsx)("div",{className:"title",children:Object(Se.jsx)("h5",{children:"Job Requests Near You"})}),Object(Se.jsx)("div",{className:"link",onClick:function(){return d(!0)},children:Object(Se.jsxs)("h5",{children:[Object(Se.jsx)("i",{className:"fa fa-filter me-1","aria-hidden":"true"}),"Filter"]})})]}),(null===c||void 0===c?void 0:c.length)>0?Object(Se.jsx)("div",{className:"list--",children:c.map((function(e){return Object(Se.jsx)(ps,{task:e},e._id)}))}):Object(Se.jsx)("div",{className:"empty-task-list",children:Object(Se.jsx)("h5",{children:"No Task"})}),l&&Object(Se.jsx)(Gs,{handleFilter:function(t){e(bt(t)),j()},loading:a,handleClose:j})]})},Js=function(e){var t=e.handleFilter,a=e.loading,r=e.handleClose,n=Object(s.useState)({status:"",from:"",to:""}),i=Object(_e.a)(n,2),l=i[0],o=i[1],d=function(e){return o((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(Ue.a)({},e.target.name,e.target.value))}))};return Object(Se.jsx)("div",{className:"modal--overlay",children:Object(Se.jsx)("div",{className:"modal-",children:Object(Se.jsxs)("div",{className:"filter",children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsxs)("div",{className:"mb-2",children:[Object(Se.jsx)("h5",{children:"From"}),Object(Se.jsx)("input",{"aria-label":"from",name:"from",className:"input",type:"date",value:l.from,onChange:d})]}),Object(Se.jsxs)("div",{className:"mb-2",children:[Object(Se.jsx)("h5",{children:"to"}),Object(Se.jsx)("input",{"aria-label":"to",name:"to",type:"date",className:"input",value:l.to,onChange:d})]})]}),Object(Se.jsxs)("div",{className:"my-3",children:[Object(Se.jsx)("h5",{children:"Status"}),Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("select",{"aria-label":"Select state",name:"state",value:l.state,onChange:d,children:["Pending","Completed","In-progress"].map((function(e){return Object(Se.jsx)("option",{value:e,children:e},e)}))})})]}),Object(Se.jsxs)("div",{className:"d-flex",children:[Object(Se.jsx)("button",{className:"btn me-1 bg-dark-3",onClick:r,children:"Cancel"}),Object(Se.jsx)("button",{className:"btn bg-primary-1 ".concat(a?"loading":""),onClick:t,children:"Apply filter"})]})]})})})},Bs=function(){var e=Object(o.useDispatch)(),t=JSON.parse(localStorage.getItem("userMode")),a=Object(o.useSelector)((function(e){return e.myTasks})),c=a.loading,r=a.tasks,n=a.works,i=Object(s.useState)(!1),l=Object(_e.a)(i,2),d=l[0],j=l[1],u=function(){return j(!1)};Object(s.useEffect)((function(){e(t?jt(""):ut(""))}),[]);var b=(null===r||void 0===r?void 0:r.length)>0||(null===n||void 0===n?void 0:n.length)>0;return Object(Se.jsxs)("div",{className:"nearby-tasks ".concat(c&&"loading"),children:[Object(Se.jsxs)("div",{className:"heading-link",children:[Object(Se.jsx)("div",{className:"title",children:Object(Se.jsx)("h5",{children:"My Tasks"})}),Object(Se.jsx)("div",{className:"link",onClick:function(){return j(!0)},children:Object(Se.jsxs)("h5",{children:[Object(Se.jsx)("i",{className:"fa fa-filter me-1","aria-hidden":"true"}),"Filter"]})})]}),b>0?Object(Se.jsxs)(Se.Fragment,{children:[r&&r.map((function(e){return Object(Se.jsx)(ls,{task:e,userMode:t,tabDirection:""},e._id)})),n&&n.map((function(e){return Object(Se.jsx)(ds,{task:e,userMode:t,tabDirection:""},e._id)}))]}):Object(Se.jsx)("div",{className:"empty-task-list ".concat(c&&"loading"),children:Object(Se.jsx)("h5",{children:"No Task"})}),d&&Object(Se.jsx)(Js,{handleFilter:function(a){e(t?jt(""):ut("")),u()},loading:c,handleClose:u})]})},Ys=function(e){var t=e.handleFilter,a=e.loading,r=e.handleClose,n=Object(s.useState)({from:"",to:""}),i=Object(_e.a)(n,2),l=i[0],o=i[1],d=function(e){return o((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(Ue.a)({},e.target.name,e.target.value))}))};return Object(Se.jsx)("div",{className:"modal--overlay",children:Object(Se.jsx)("div",{className:"modal-",children:Object(Se.jsxs)("div",{className:"filter",children:[Object(Se.jsxs)("div",{className:"mb-3",children:[Object(Se.jsx)("h5",{children:"From"}),Object(Se.jsx)("div",{className:"mb-2",children:Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("input",{"aria-label":"date lga",name:"from",type:"date",value:l.from,onChange:d})})}),Object(Se.jsx)("h5",{children:"To"}),Object(Se.jsx)("div",{className:"mb-2",children:Object(Se.jsx)("div",{className:"input",children:Object(Se.jsx)("input",{"aria-label":"to date",name:"to",type:"date",value:l.to,onChange:d})})})]}),Object(Se.jsxs)("div",{className:"d-flex",children:[Object(Se.jsx)("button",{className:"btn me-1 bg-dark-3",onClick:r,children:"Cancel"}),Object(Se.jsx)("button",{className:"btn bg-primary-1 ".concat(a?"loading":""),onClick:function(){return t()},children:"Apply filter"})]})]})})})},Vs=function(){var e=Object(o.useDispatch)(),t=Object(o.useSelector)((function(e){return e.wallet})),a=t.loading,c=t.transactions,r=Object(s.useState)(!1),n=Object(_e.a)(r,2),i=n[0],l=n[1],d=function(){return l(!1)};return Object(s.useEffect)((function(){e(ge())}),[]),Object(Se.jsxs)("div",{className:"nearby-tasks ".concat(a&&"loading"),children:[Object(Se.jsxs)("div",{className:"heading-link",children:[Object(Se.jsx)("div",{className:"title",children:Object(Se.jsx)("h5",{children:"Wallet Transactions"})}),Object(Se.jsx)("div",{className:"link",onClick:function(){return l(!0)},children:Object(Se.jsxs)("h5",{children:[Object(Se.jsx)("i",{className:"fa fa-filter me-1","aria-hidden":"true"}),"Filter"]})})]}),c?c.map((function(e){return Object(Se.jsx)("div",{className:"payment-item",children:Object(Se.jsxs)("ul",{children:[Object(Se.jsxs)("li",{children:[Object(Se.jsx)("p",{children:"Status:"}),Object(Se.jsx)("h6",{children:Object(Se.jsx)("span",{className:"status ".concat(e.status),children:e.status})})]}),Object(Se.jsxs)("li",{children:[Object(Se.jsx)("p",{children:"Transaction Type:"}),Object(Se.jsx)("h6",{children:e.type.toUpperCase()})]}),Object(Se.jsxs)("li",{children:[Object(Se.jsx)("p",{children:"Amount:"}),Object(Se.jsx)("h6",{children:e.amount})]}),Object(Se.jsxs)("li",{children:[Object(Se.jsx)("p",{children:"Date:"}),Object(Se.jsx)("h6",{children:Cs()(e.createdAt,"d mmmm yyyy, h:MM:ss TT")})]})]})},e._id)})):Object(Se.jsx)("div",{className:"empty-task-list ".concat(a&&"loading"),children:Object(Se.jsx)("h5",{children:"No Transactions"})}),i&&Object(Se.jsx)(Ys,{handleFilter:function(t){e(ge(t)),d()},loading:a,handleClose:d})]})};var $s=function(){Object(s.useEffect)((function(){Tc.dispatch(fe())}),[]);var e=Object(o.useSelector)((function(e){return e.auth})),t=e.user,a=e.isAuthenticated,c=e.loading;return Object(Se.jsx)(i.a,{children:Object(Se.jsxs)("div",{className:"App",children:[Object(Se.jsx)(Ee,{}),Object(Se.jsxs)("div",{className:"container_del container-fluid_del",children:[Object(Se.jsx)(l.Route,{path:"/",component:ha,exact:!0}),Object(Se.jsx)(l.Route,{path:"/category/:name",component:Us,exact:!0}),Object(Se.jsx)(l.Route,{path:"/search/:keyword",component:ha}),Object(Se.jsx)(l.Route,{path:"/product/:id",component:ac,exact:!0}),Object(Se.jsx)(l.Route,{path:"/cart",component:Kc}),Object(Se.jsx)(Uc,{path:"/shipping",component:Gc}),Object(Se.jsx)(Uc,{path:"/order/confirm",component:Hc}),Object(Se.jsx)(Uc,{path:"/success",component:Jc}),Object(Se.jsx)(Uc,{path:"/user/create/worker",component:ks,exact:!0}),Object(Se.jsx)(l.Route,{path:"/worker/:id",component:Ts}),Object(Se.jsx)(l.Route,{path:"/tasks",component:ws,exact:!0}),Object(Se.jsx)(l.Route,{path:"/works",component:Is,exact:!0}),Object(Se.jsx)(l.Route,{path:"/progress",component:Es,exact:!0}),Object(Se.jsx)(l.Route,{path:"/login",component:cc}),Object(Se.jsx)(l.Route,{path:"/register",component:sc,exact:!0}),Object(Se.jsx)(l.Route,{path:"/password/forgot",component:Wc,exact:!0}),Object(Se.jsx)(l.Route,{path:"/password/reset/:token",component:Mc,exact:!0}),Object(Se.jsx)(l.Route,{path:"/dashboard",component:fs,exact:!0}),Object(Se.jsx)(Uc,{path:"/me/update",component:Lc,exact:!0}),Object(Se.jsx)(Uc,{path:"/password/update",component:Pc,exact:!0}),Object(Se.jsx)(l.Route,{path:"/account/profile",component:Ps,exact:!0}),Object(Se.jsx)(l.Route,{path:"/account/contact",component:Fs,exact:!0}),Object(Se.jsx)(l.Route,{path:"/account/password",component:Ws,exact:!0}),Object(Se.jsx)(l.Route,{path:"/account/worker",component:Ks,exact:!0}),Object(Se.jsx)(l.Route,{path:"/account/worker/create",component:Qs,exact:!0}),Object(Se.jsx)(Uc,{path:"/orders/me",component:Vc,exact:!0}),Object(Se.jsx)(Uc,{path:"/order/:id",component:$c,exact:!0})]}),Object(Se.jsx)(Uc,{path:"/dashboards",isAdmin:!0,component:fs,exact:!0}),Object(Se.jsx)(Uc,{path:"/managetasks",component:Bs,exact:!0}),Object(Se.jsx)(Uc,{path:"/morejobs",component:Hs,exact:!0}),Object(Se.jsx)(Uc,{path:"/payments",component:Vs,exact:!0}),Object(Se.jsx)(Uc,{path:"/admin/users/",isAdmin:!0,component:gs,exact:!0}),Object(Se.jsx)(Uc,{path:"/admin/user/:id",isAdmin:!0,component:ys,exact:!0}),Object(Se.jsx)(Uc,{path:"/admin/reviews",isAdmin:!0,component:Ns,exact:!0}),!c&&(!a||"admin"!==t.role)&&Object(Se.jsx)(ke,{})]})})},zs=a(131),Xs={timeout:5e3,position:d.b.BOTTOM_CENTER,transition:d.c.SCALE};n.a.render(Object(Se.jsx)(o.Provider,{store:Tc,children:Object(Se.jsx)(d.a,Object(c.a)(Object(c.a)({template:zs.a},Xs),{},{children:Object(Se.jsx)($s,{})}))}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.c55e7e37.chunk.js.map